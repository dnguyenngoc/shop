2021-06-03 10:59:46,417 - INFO - Started server process [235]
2021-06-03 10:59:46,417 - INFO - Waiting for application startup.
2021-06-03 10:59:46,418 - INFO - Application startup complete.
2021-06-03 11:01:31,577 - INFO - Shutting down
2021-06-03 11:01:31,679 - INFO - Waiting for application shutdown.
2021-06-03 11:01:31,680 - INFO - Application shutdown complete.
2021-06-03 11:01:31,680 - INFO - Finished server process [235]
2021-06-03 11:01:41,594 - INFO - Started server process [257]
2021-06-03 11:01:41,594 - INFO - Waiting for application startup.
2021-06-03 11:01:41,595 - INFO - Application startup complete.
2021-06-03 11:01:41,598 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 11:03:48,350 - INFO - Shutting down
2021-06-03 11:03:48,453 - INFO - Waiting for application shutdown.
2021-06-03 11:03:48,453 - INFO - Application shutdown complete.
2021-06-03 11:03:48,454 - INFO - Finished server process [257]
2021-06-03 11:28:40,238 - INFO - Started server process [602]
2021-06-03 11:28:40,239 - INFO - Waiting for application startup.
2021-06-03 11:28:40,239 - INFO - Application startup complete.
2021-06-03 11:28:40,240 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 11:30:29,469 - INFO - Shutting down
2021-06-03 11:30:29,570 - INFO - Waiting for application shutdown.
2021-06-03 11:30:29,571 - INFO - Application shutdown complete.
2021-06-03 11:30:29,571 - INFO - Finished server process [602]
2021-06-03 11:30:37,090 - INFO - Started server process [616]
2021-06-03 11:30:37,090 - INFO - Waiting for application startup.
2021-06-03 11:30:37,091 - INFO - Application startup complete.
2021-06-03 11:30:37,091 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 11:34:18,414 - INFO - Shutting down
2021-06-03 11:34:18,516 - INFO - Finished server process [616]
2021-06-03 11:34:25,735 - INFO - Started server process [630]
2021-06-03 11:34:25,736 - INFO - Waiting for application startup.
2021-06-03 11:34:25,736 - INFO - Application startup complete.
2021-06-03 11:34:25,737 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 11:55:41,655 - INFO - Shutting down
2021-06-03 11:55:41,756 - INFO - Waiting for application shutdown.
2021-06-03 11:55:41,757 - INFO - Application shutdown complete.
2021-06-03 11:55:41,757 - INFO - Finished server process [630]
2021-06-03 12:03:30,049 - INFO - Started server process [655]
2021-06-03 12:03:30,049 - INFO - Waiting for application startup.
2021-06-03 12:03:30,050 - INFO - Application startup complete.
2021-06-03 12:03:30,050 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 12:05:43,084 - INFO - Shutting down
2021-06-03 12:05:43,188 - INFO - Waiting for application shutdown.
2021-06-03 12:05:43,188 - INFO - Application shutdown complete.
2021-06-03 12:05:43,189 - INFO - Finished server process [655]
2021-06-03 12:07:34,228 - INFO - Started server process [665]
2021-06-03 12:07:34,228 - INFO - Waiting for application startup.
2021-06-03 12:07:34,229 - INFO - Application startup complete.
2021-06-03 12:07:34,230 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 12:08:23,176 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 25, in login
    user_dict = user_logic.get_by_user_name_and_password(db_session, form_data.username, for_data.password)
AttributeError: module 'databases.logic.user' has no attribute 'get_by_user_name_and_password'
2021-06-03 12:09:03,056 - INFO - Shutting down
2021-06-03 12:09:03,158 - INFO - Waiting for application shutdown.
2021-06-03 12:09:03,159 - INFO - Application shutdown complete.
2021-06-03 12:09:03,159 - INFO - Finished server process [665]
2021-06-03 12:09:04,966 - INFO - Started server process [668]
2021-06-03 12:09:04,966 - INFO - Waiting for application startup.
2021-06-03 12:09:04,967 - INFO - Application startup complete.
2021-06-03 12:09:04,968 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 12:09:07,838 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 25, in login
    user_dict = user_logic.get_user_by_user_name_and_password_join_role(db_session, form_data.username, for_data.password)
NameError: name 'for_data' is not defined
2021-06-03 12:09:25,741 - INFO - Shutting down
2021-06-03 12:09:25,843 - INFO - Waiting for application shutdown.
2021-06-03 12:09:25,843 - INFO - Application shutdown complete.
2021-06-03 12:09:25,843 - INFO - Finished server process [668]
2021-06-03 12:09:27,508 - INFO - Started server process [671]
2021-06-03 12:09:27,509 - INFO - Waiting for application startup.
2021-06-03 12:09:27,509 - INFO - Application startup complete.
2021-06-03 12:09:27,510 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 12:09:38,376 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 25, in login
    user_dict = user_logic.get_user_by_user_name_and_password_join_role(db_session, form_data.username, form_data.password)
  File "/home/pot/project/web-management/backend/app/databases/logic/user.py", line 13, in get_user_by_user_name_and_password_join_role
    return db_session.query(User) \
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2068, in query
    return self._query_cls(entities, self, **kwargs)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 175, in __init__
    self._set_entities(entities)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 182, in _set_entities
    self._raw_columns = [
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 183, in <listcomp>
    coercions.expect(
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/sql/coercions.py", line 168, in expect
    insp._post_inspect
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1160, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 2097, in _post_inspect
    self._check_configure()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 1874, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3384, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3423, in _do_configure_registries
    mapper._post_configure_properties()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 1891, in _post_configure_properties
    prop.init()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/interfaces.py", line 228, in init
    self.do_init()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/relationships.py", line 2135, in do_init
    self._process_dependent_arguments()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/relationships.py", line 2230, in _process_dependent_arguments
    self.target = self.entity.persist_selectable
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1093, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/relationships.py", line 2117, in entity
    raise sa_exc.ArgumentError(
sqlalchemy.exc.ArgumentError: relationship 'role' expects a class or a mapper argument (received: <class 'sqlalchemy.orm.clsregistry._ModNS'>)
2021-06-03 12:11:47,366 - INFO - Shutting down
2021-06-03 12:11:47,467 - INFO - Waiting for application shutdown.
2021-06-03 12:11:47,467 - INFO - Application shutdown complete.
2021-06-03 12:11:47,467 - INFO - Finished server process [671]
2021-06-03 12:12:29,179 - INFO - Started server process [678]
2021-06-03 12:12:29,179 - INFO - Waiting for application startup.
2021-06-03 12:12:29,180 - INFO - Application startup complete.
2021-06-03 12:12:29,181 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 12:12:30,995 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 25, in login
    user_dict = user_logic.get_user_by_user_name_and_password_join_role(db_session, form_data.username, form_data.password)
  File "/home/pot/project/web-management/backend/app/databases/logic/user.py", line 13, in get_user_by_user_name_and_password_join_role
    return db_session.query(User) \
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2068, in query
    return self._query_cls(entities, self, **kwargs)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 175, in __init__
    self._set_entities(entities)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 182, in _set_entities
    self._raw_columns = [
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 183, in <listcomp>
    coercions.expect(
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/sql/coercions.py", line 168, in expect
    insp._post_inspect
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1160, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 2097, in _post_inspect
    self._check_configure()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 1874, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3384, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3423, in _do_configure_registries
    mapper._post_configure_properties()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 1891, in _post_configure_properties
    prop.init()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/interfaces.py", line 228, in init
    self.do_init()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/relationships.py", line 2135, in do_init
    self._process_dependent_arguments()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/relationships.py", line 2230, in _process_dependent_arguments
    self.target = self.entity.persist_selectable
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1093, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/relationships.py", line 2117, in entity
    raise sa_exc.ArgumentError(
sqlalchemy.exc.ArgumentError: relationship 'role' expects a class or a mapper argument (received: <class 'sqlalchemy.orm.clsregistry._ModNS'>)
2021-06-03 12:14:19,494 - INFO - Shutting down
2021-06-03 12:14:19,596 - INFO - Finished server process [678]
2021-06-03 12:14:20,890 - INFO - Started server process [681]
2021-06-03 12:14:20,890 - INFO - Waiting for application startup.
2021-06-03 12:14:20,891 - INFO - Application startup complete.
2021-06-03 12:14:20,891 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 12:14:23,287 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 25, in login
    user_dict = user_logic.get_user_by_user_name_and_password_join_role(db_session, form_data.username, form_data.password)
  File "/home/pot/project/web-management/backend/app/databases/logic/user.py", line 13, in get_user_by_user_name_and_password_join_role
    return db_session.query(User) \
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2068, in query
    return self._query_cls(entities, self, **kwargs)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 175, in __init__
    self._set_entities(entities)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 182, in _set_entities
    self._raw_columns = [
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 183, in <listcomp>
    coercions.expect(
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/sql/coercions.py", line 168, in expect
    insp._post_inspect
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1160, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 2097, in _post_inspect
    self._check_configure()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 1874, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3384, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3423, in _do_configure_registries
    mapper._post_configure_properties()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 1891, in _post_configure_properties
    prop.init()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/interfaces.py", line 228, in init
    self.do_init()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/relationships.py", line 2135, in do_init
    self._process_dependent_arguments()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/relationships.py", line 2230, in _process_dependent_arguments
    self.target = self.entity.persist_selectable
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1093, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/relationships.py", line 2117, in entity
    raise sa_exc.ArgumentError(
sqlalchemy.exc.ArgumentError: relationship 'role' expects a class or a mapper argument (received: <class 'sqlalchemy.orm.clsregistry._ModNS'>)
2021-06-03 12:14:51,568 - INFO - Shutting down
2021-06-03 12:14:51,669 - INFO - Waiting for application shutdown.
2021-06-03 12:14:51,669 - INFO - Application shutdown complete.
2021-06-03 12:14:51,670 - INFO - Finished server process [681]
2021-06-03 12:14:53,109 - INFO - Started server process [684]
2021-06-03 12:14:53,109 - INFO - Waiting for application startup.
2021-06-03 12:14:53,110 - INFO - Application startup complete.
2021-06-03 12:14:53,110 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 12:14:55,223 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 25, in login
    user_dict = user_logic.get_user_by_user_name_and_password_join_role(db_session, form_data.username, form_data.password)
  File "/home/pot/project/web-management/backend/app/databases/logic/user.py", line 13, in get_user_by_user_name_and_password_join_role
    return db_session.query(User) \
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2068, in query
    return self._query_cls(entities, self, **kwargs)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 175, in __init__
    self._set_entities(entities)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 182, in _set_entities
    self._raw_columns = [
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 183, in <listcomp>
    coercions.expect(
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/sql/coercions.py", line 168, in expect
    insp._post_inspect
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1160, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 2097, in _post_inspect
    self._check_configure()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 1874, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3384, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3423, in _do_configure_registries
    mapper._post_configure_properties()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 1891, in _post_configure_properties
    prop.init()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/interfaces.py", line 228, in init
    self.do_init()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/relationships.py", line 2135, in do_init
    self._process_dependent_arguments()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/relationships.py", line 2230, in _process_dependent_arguments
    self.target = self.entity.persist_selectable
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1093, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/relationships.py", line 2117, in entity
    raise sa_exc.ArgumentError(
sqlalchemy.exc.ArgumentError: relationship 'role' expects a class or a mapper argument (received: <class 'sqlalchemy.orm.clsregistry._ModNS'>)
2021-06-03 12:14:56,423 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 25, in login
    user_dict = user_logic.get_user_by_user_name_and_password_join_role(db_session, form_data.username, form_data.password)
  File "/home/pot/project/web-management/backend/app/databases/logic/user.py", line 13, in get_user_by_user_name_and_password_join_role
    return db_session.query(User) \
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2068, in query
    return self._query_cls(entities, self, **kwargs)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 175, in __init__
    self._set_entities(entities)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 182, in _set_entities
    self._raw_columns = [
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 183, in <listcomp>
    coercions.expect(
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/sql/coercions.py", line 168, in expect
    insp._post_inspect
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1160, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 2097, in _post_inspect
    self._check_configure()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 1874, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3384, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3419, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'mapped class User->user'. Original exception was: relationship 'role' expects a class or a mapper argument (received: <class 'sqlalchemy.orm.clsregistry._ModNS'>)
2021-06-03 12:14:56,943 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 25, in login
    user_dict = user_logic.get_user_by_user_name_and_password_join_role(db_session, form_data.username, form_data.password)
  File "/home/pot/project/web-management/backend/app/databases/logic/user.py", line 13, in get_user_by_user_name_and_password_join_role
    return db_session.query(User) \
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2068, in query
    return self._query_cls(entities, self, **kwargs)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 175, in __init__
    self._set_entities(entities)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 182, in _set_entities
    self._raw_columns = [
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 183, in <listcomp>
    coercions.expect(
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/sql/coercions.py", line 168, in expect
    insp._post_inspect
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1160, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 2097, in _post_inspect
    self._check_configure()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 1874, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3384, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3419, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'mapped class User->user'. Original exception was: relationship 'role' expects a class or a mapper argument (received: <class 'sqlalchemy.orm.clsregistry._ModNS'>)
2021-06-03 12:14:57,212 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 25, in login
    user_dict = user_logic.get_user_by_user_name_and_password_join_role(db_session, form_data.username, form_data.password)
  File "/home/pot/project/web-management/backend/app/databases/logic/user.py", line 13, in get_user_by_user_name_and_password_join_role
    return db_session.query(User) \
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2068, in query
    return self._query_cls(entities, self, **kwargs)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 175, in __init__
    self._set_entities(entities)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 182, in _set_entities
    self._raw_columns = [
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 183, in <listcomp>
    coercions.expect(
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/sql/coercions.py", line 168, in expect
    insp._post_inspect
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1160, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 2097, in _post_inspect
    self._check_configure()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 1874, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3384, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3419, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'mapped class User->user'. Original exception was: relationship 'role' expects a class or a mapper argument (received: <class 'sqlalchemy.orm.clsregistry._ModNS'>)
2021-06-03 12:14:57,401 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 25, in login
    user_dict = user_logic.get_user_by_user_name_and_password_join_role(db_session, form_data.username, form_data.password)
  File "/home/pot/project/web-management/backend/app/databases/logic/user.py", line 13, in get_user_by_user_name_and_password_join_role
    return db_session.query(User) \
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2068, in query
    return self._query_cls(entities, self, **kwargs)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 175, in __init__
    self._set_entities(entities)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 182, in _set_entities
    self._raw_columns = [
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 183, in <listcomp>
    coercions.expect(
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/sql/coercions.py", line 168, in expect
    insp._post_inspect
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1160, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 2097, in _post_inspect
    self._check_configure()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 1874, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3384, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3419, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'mapped class User->user'. Original exception was: relationship 'role' expects a class or a mapper argument (received: <class 'sqlalchemy.orm.clsregistry._ModNS'>)
2021-06-03 12:14:57,633 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 25, in login
    user_dict = user_logic.get_user_by_user_name_and_password_join_role(db_session, form_data.username, form_data.password)
  File "/home/pot/project/web-management/backend/app/databases/logic/user.py", line 13, in get_user_by_user_name_and_password_join_role
    return db_session.query(User) \
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2068, in query
    return self._query_cls(entities, self, **kwargs)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 175, in __init__
    self._set_entities(entities)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 182, in _set_entities
    self._raw_columns = [
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 183, in <listcomp>
    coercions.expect(
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/sql/coercions.py", line 168, in expect
    insp._post_inspect
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1160, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 2097, in _post_inspect
    self._check_configure()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 1874, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3384, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3419, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'mapped class User->user'. Original exception was: relationship 'role' expects a class or a mapper argument (received: <class 'sqlalchemy.orm.clsregistry._ModNS'>)
2021-06-03 12:14:57,840 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 25, in login
    user_dict = user_logic.get_user_by_user_name_and_password_join_role(db_session, form_data.username, form_data.password)
  File "/home/pot/project/web-management/backend/app/databases/logic/user.py", line 13, in get_user_by_user_name_and_password_join_role
    return db_session.query(User) \
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2068, in query
    return self._query_cls(entities, self, **kwargs)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 175, in __init__
    self._set_entities(entities)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 182, in _set_entities
    self._raw_columns = [
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 183, in <listcomp>
    coercions.expect(
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/sql/coercions.py", line 168, in expect
    insp._post_inspect
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1160, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 2097, in _post_inspect
    self._check_configure()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 1874, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3384, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3419, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'mapped class User->user'. Original exception was: relationship 'role' expects a class or a mapper argument (received: <class 'sqlalchemy.orm.clsregistry._ModNS'>)
2021-06-03 12:14:58,059 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 25, in login
    user_dict = user_logic.get_user_by_user_name_and_password_join_role(db_session, form_data.username, form_data.password)
  File "/home/pot/project/web-management/backend/app/databases/logic/user.py", line 13, in get_user_by_user_name_and_password_join_role
    return db_session.query(User) \
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2068, in query
    return self._query_cls(entities, self, **kwargs)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 175, in __init__
    self._set_entities(entities)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 182, in _set_entities
    self._raw_columns = [
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 183, in <listcomp>
    coercions.expect(
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/sql/coercions.py", line 168, in expect
    insp._post_inspect
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1160, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 2097, in _post_inspect
    self._check_configure()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 1874, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3384, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3419, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'mapped class User->user'. Original exception was: relationship 'role' expects a class or a mapper argument (received: <class 'sqlalchemy.orm.clsregistry._ModNS'>)
2021-06-03 12:14:58,262 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 25, in login
    user_dict = user_logic.get_user_by_user_name_and_password_join_role(db_session, form_data.username, form_data.password)
  File "/home/pot/project/web-management/backend/app/databases/logic/user.py", line 13, in get_user_by_user_name_and_password_join_role
    return db_session.query(User) \
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2068, in query
    return self._query_cls(entities, self, **kwargs)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 175, in __init__
    self._set_entities(entities)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 182, in _set_entities
    self._raw_columns = [
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 183, in <listcomp>
    coercions.expect(
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/sql/coercions.py", line 168, in expect
    insp._post_inspect
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1160, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 2097, in _post_inspect
    self._check_configure()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 1874, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3384, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3419, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'mapped class User->user'. Original exception was: relationship 'role' expects a class or a mapper argument (received: <class 'sqlalchemy.orm.clsregistry._ModNS'>)
2021-06-03 12:16:17,836 - INFO - Shutting down
2021-06-03 12:16:17,937 - INFO - Waiting for application shutdown.
2021-06-03 12:16:17,938 - INFO - Application shutdown complete.
2021-06-03 12:16:17,938 - INFO - Finished server process [684]
2021-06-03 12:16:19,436 - INFO - Started server process [687]
2021-06-03 12:16:19,437 - INFO - Waiting for application startup.
2021-06-03 12:16:19,437 - INFO - Application startup complete.
2021-06-03 12:16:19,438 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 12:16:24,005 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 25, in login
    user_dict = user_logic.get_user_by_user_name_and_password_join_role(db_session, form_data.username, form_data.password)
  File "/home/pot/project/web-management/backend/app/databases/logic/user.py", line 13, in get_user_by_user_name_and_password_join_role
    return db_session.query(User) \
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2068, in query
    return self._query_cls(entities, self, **kwargs)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 175, in __init__
    self._set_entities(entities)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 182, in _set_entities
    self._raw_columns = [
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 183, in <listcomp>
    coercions.expect(
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/sql/coercions.py", line 168, in expect
    insp._post_inspect
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1160, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 2097, in _post_inspect
    self._check_configure()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 1874, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3384, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3423, in _do_configure_registries
    mapper._post_configure_properties()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 1891, in _post_configure_properties
    prop.init()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/interfaces.py", line 228, in init
    self.do_init()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/relationships.py", line 2135, in do_init
    self._process_dependent_arguments()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/relationships.py", line 2230, in _process_dependent_arguments
    self.target = self.entity.persist_selectable
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1093, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/relationships.py", line 2097, in entity
    argument = self._clsregistry_resolve_name(self.argument)()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/clsregistry.py", line 397, in _resolve_name
    self._raise_for_name(name, err)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/clsregistry.py", line 375, in _raise_for_name
    util.raise_(
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
    raise exception
sqlalchemy.exc.InvalidRequestError: When initializing mapper mapped class User->users, expression 'roles' failed to locate a name ('roles'). If this is a class name, consider adding this relationship() to the <class 'databases.models.user.User'> class after both dependent classes have been defined.
2021-06-03 12:16:24,937 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 25, in login
    user_dict = user_logic.get_user_by_user_name_and_password_join_role(db_session, form_data.username, form_data.password)
  File "/home/pot/project/web-management/backend/app/databases/logic/user.py", line 13, in get_user_by_user_name_and_password_join_role
    return db_session.query(User) \
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2068, in query
    return self._query_cls(entities, self, **kwargs)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 175, in __init__
    self._set_entities(entities)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 182, in _set_entities
    self._raw_columns = [
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 183, in <listcomp>
    coercions.expect(
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/sql/coercions.py", line 168, in expect
    insp._post_inspect
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1160, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 2097, in _post_inspect
    self._check_configure()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 1874, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3384, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3419, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'mapped class User->users'. Original exception was: When initializing mapper mapped class User->users, expression 'roles' failed to locate a name ('roles'). If this is a class name, consider adding this relationship() to the <class 'databases.models.user.User'> class after both dependent classes have been defined.
2021-06-03 12:16:25,517 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 25, in login
    user_dict = user_logic.get_user_by_user_name_and_password_join_role(db_session, form_data.username, form_data.password)
  File "/home/pot/project/web-management/backend/app/databases/logic/user.py", line 13, in get_user_by_user_name_and_password_join_role
    return db_session.query(User) \
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2068, in query
    return self._query_cls(entities, self, **kwargs)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 175, in __init__
    self._set_entities(entities)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 182, in _set_entities
    self._raw_columns = [
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 183, in <listcomp>
    coercions.expect(
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/sql/coercions.py", line 168, in expect
    insp._post_inspect
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1160, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 2097, in _post_inspect
    self._check_configure()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 1874, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3384, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3419, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'mapped class User->users'. Original exception was: When initializing mapper mapped class User->users, expression 'roles' failed to locate a name ('roles'). If this is a class name, consider adding this relationship() to the <class 'databases.models.user.User'> class after both dependent classes have been defined.
2021-06-03 12:16:25,783 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 25, in login
    user_dict = user_logic.get_user_by_user_name_and_password_join_role(db_session, form_data.username, form_data.password)
  File "/home/pot/project/web-management/backend/app/databases/logic/user.py", line 13, in get_user_by_user_name_and_password_join_role
    return db_session.query(User) \
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2068, in query
    return self._query_cls(entities, self, **kwargs)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 175, in __init__
    self._set_entities(entities)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 182, in _set_entities
    self._raw_columns = [
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 183, in <listcomp>
    coercions.expect(
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/sql/coercions.py", line 168, in expect
    insp._post_inspect
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1160, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 2097, in _post_inspect
    self._check_configure()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 1874, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3384, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3419, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'mapped class User->users'. Original exception was: When initializing mapper mapped class User->users, expression 'roles' failed to locate a name ('roles'). If this is a class name, consider adding this relationship() to the <class 'databases.models.user.User'> class after both dependent classes have been defined.
2021-06-03 12:16:59,913 - INFO - Shutting down
2021-06-03 12:17:00,015 - INFO - Waiting for application shutdown.
2021-06-03 12:17:00,016 - INFO - Application shutdown complete.
2021-06-03 12:17:00,016 - INFO - Finished server process [687]
2021-06-03 12:17:01,374 - INFO - Started server process [690]
2021-06-03 12:17:01,375 - INFO - Waiting for application startup.
2021-06-03 12:17:01,375 - INFO - Application startup complete.
2021-06-03 12:17:01,376 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 12:17:03,756 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 25, in login
    user_dict = user_logic.get_user_by_user_name_and_password_join_role(db_session, form_data.username, form_data.password)
  File "/home/pot/project/web-management/backend/app/databases/logic/user.py", line 13, in get_user_by_user_name_and_password_join_role
    return db_session.query(User) \
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2068, in query
    return self._query_cls(entities, self, **kwargs)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 175, in __init__
    self._set_entities(entities)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 182, in _set_entities
    self._raw_columns = [
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 183, in <listcomp>
    coercions.expect(
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/sql/coercions.py", line 168, in expect
    insp._post_inspect
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1160, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 2097, in _post_inspect
    self._check_configure()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 1874, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3384, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3423, in _do_configure_registries
    mapper._post_configure_properties()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 1891, in _post_configure_properties
    prop.init()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/interfaces.py", line 228, in init
    self.do_init()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/relationships.py", line 2135, in do_init
    self._process_dependent_arguments()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/relationships.py", line 2230, in _process_dependent_arguments
    self.target = self.entity.persist_selectable
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1093, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/relationships.py", line 2097, in entity
    argument = self._clsregistry_resolve_name(self.argument)()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/clsregistry.py", line 397, in _resolve_name
    self._raise_for_name(name, err)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/clsregistry.py", line 375, in _raise_for_name
    util.raise_(
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
    raise exception
sqlalchemy.exc.InvalidRequestError: When initializing mapper mapped class User->users, expression 'roles' failed to locate a name ('roles'). If this is a class name, consider adding this relationship() to the <class 'databases.models.user.User'> class after both dependent classes have been defined.
2021-06-03 12:17:04,961 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 25, in login
    user_dict = user_logic.get_user_by_user_name_and_password_join_role(db_session, form_data.username, form_data.password)
  File "/home/pot/project/web-management/backend/app/databases/logic/user.py", line 13, in get_user_by_user_name_and_password_join_role
    return db_session.query(User) \
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2068, in query
    return self._query_cls(entities, self, **kwargs)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 175, in __init__
    self._set_entities(entities)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 182, in _set_entities
    self._raw_columns = [
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 183, in <listcomp>
    coercions.expect(
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/sql/coercions.py", line 168, in expect
    insp._post_inspect
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1160, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 2097, in _post_inspect
    self._check_configure()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 1874, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3384, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3419, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'mapped class User->users'. Original exception was: When initializing mapper mapped class User->users, expression 'roles' failed to locate a name ('roles'). If this is a class name, consider adding this relationship() to the <class 'databases.models.user.User'> class after both dependent classes have been defined.
2021-06-03 12:17:05,813 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 25, in login
    user_dict = user_logic.get_user_by_user_name_and_password_join_role(db_session, form_data.username, form_data.password)
  File "/home/pot/project/web-management/backend/app/databases/logic/user.py", line 13, in get_user_by_user_name_and_password_join_role
    return db_session.query(User) \
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2068, in query
    return self._query_cls(entities, self, **kwargs)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 175, in __init__
    self._set_entities(entities)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 182, in _set_entities
    self._raw_columns = [
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 183, in <listcomp>
    coercions.expect(
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/sql/coercions.py", line 168, in expect
    insp._post_inspect
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1160, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 2097, in _post_inspect
    self._check_configure()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 1874, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3384, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3419, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'mapped class User->users'. Original exception was: When initializing mapper mapped class User->users, expression 'roles' failed to locate a name ('roles'). If this is a class name, consider adding this relationship() to the <class 'databases.models.user.User'> class after both dependent classes have been defined.
2021-06-03 12:17:47,635 - INFO - Shutting down
2021-06-03 12:17:47,737 - INFO - Waiting for application shutdown.
2021-06-03 12:17:47,737 - INFO - Application shutdown complete.
2021-06-03 12:17:47,738 - INFO - Finished server process [690]
2021-06-03 12:17:49,860 - INFO - Started server process [693]
2021-06-03 12:17:49,860 - INFO - Waiting for application startup.
2021-06-03 12:17:49,861 - INFO - Application startup complete.
2021-06-03 12:17:49,861 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 12:17:52,247 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 25, in login
    user_dict = user_logic.get_user_by_user_name_and_password_join_role(db_session, form_data.username, form_data.password)
  File "/home/pot/project/web-management/backend/app/databases/logic/user.py", line 13, in get_user_by_user_name_and_password_join_role
    return db_session.query(User) \
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2068, in query
    return self._query_cls(entities, self, **kwargs)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 175, in __init__
    self._set_entities(entities)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 182, in _set_entities
    self._raw_columns = [
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 183, in <listcomp>
    coercions.expect(
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/sql/coercions.py", line 168, in expect
    insp._post_inspect
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1160, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 2097, in _post_inspect
    self._check_configure()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 1874, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3384, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3423, in _do_configure_registries
    mapper._post_configure_properties()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 1891, in _post_configure_properties
    prop.init()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/interfaces.py", line 228, in init
    self.do_init()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/relationships.py", line 2135, in do_init
    self._process_dependent_arguments()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/relationships.py", line 2230, in _process_dependent_arguments
    self.target = self.entity.persist_selectable
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1093, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/relationships.py", line 2097, in entity
    argument = self._clsregistry_resolve_name(self.argument)()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/clsregistry.py", line 397, in _resolve_name
    self._raise_for_name(name, err)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/clsregistry.py", line 375, in _raise_for_name
    util.raise_(
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 211, in raise_
    raise exception
sqlalchemy.exc.InvalidRequestError: When initializing mapper mapped class User->users, expression 'roles' failed to locate a name ('roles'). If this is a class name, consider adding this relationship() to the <class 'databases.models.user.User'> class after both dependent classes have been defined.
2021-06-03 12:17:53,559 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 25, in login
    user_dict = user_logic.get_user_by_user_name_and_password_join_role(db_session, form_data.username, form_data.password)
  File "/home/pot/project/web-management/backend/app/databases/logic/user.py", line 13, in get_user_by_user_name_and_password_join_role
    return db_session.query(User) \
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2068, in query
    return self._query_cls(entities, self, **kwargs)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 175, in __init__
    self._set_entities(entities)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 182, in _set_entities
    self._raw_columns = [
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 183, in <listcomp>
    coercions.expect(
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/sql/coercions.py", line 168, in expect
    insp._post_inspect
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 1160, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 2097, in _post_inspect
    self._check_configure()
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 1874, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3384, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/home/pot/.local/lib/python3.8/site-packages/sqlalchemy/orm/mapper.py", line 3419, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'mapped class User->users'. Original exception was: When initializing mapper mapped class User->users, expression 'roles' failed to locate a name ('roles'). If this is a class name, consider adding this relationship() to the <class 'databases.models.user.User'> class after both dependent classes have been defined.
2021-06-03 12:19:36,002 - INFO - Shutting down
2021-06-03 12:19:36,104 - INFO - Finished server process [693]
2021-06-03 12:19:37,388 - INFO - Started server process [696]
2021-06-03 12:19:37,389 - INFO - Waiting for application startup.
2021-06-03 12:19:37,389 - INFO - Application startup complete.
2021-06-03 12:19:37,390 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 12:19:41,624 - INFO - Shutting down
2021-06-03 12:19:41,726 - INFO - Finished server process [696]
2021-06-03 12:19:43,078 - INFO - Started server process [698]
2021-06-03 12:19:43,078 - INFO - Waiting for application startup.
2021-06-03 12:19:43,079 - INFO - Application startup complete.
2021-06-03 12:19:43,079 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 12:19:52,001 - INFO - select version()
2021-06-03 12:19:52,001 - INFO - [raw sql] {}
2021-06-03 12:19:52,091 - INFO - select current_schema()
2021-06-03 12:19:52,092 - INFO - [raw sql] {}
2021-06-03 12:19:52,190 - INFO - show standard_conforming_strings
2021-06-03 12:19:52,191 - INFO - [raw sql] {}
2021-06-03 12:19:52,308 - INFO - BEGIN (implicit)
2021-06-03 12:19:52,321 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".user_name = %(user_name_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-03 12:19:52,322 - INFO - [generated in 0.00074s] {'user_name_1': 'duynguyenngoc', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-03 12:19:52,447 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 28, in login
    user = user_entity.UserInDB(**user_dict)
TypeError: ModelMetaclass object argument after ** must be a mapping, not User
2021-06-03 12:19:54,330 - INFO - BEGIN (implicit)
2021-06-03 12:19:54,334 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".user_name = %(user_name_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-03 12:19:54,359 - INFO - [cached since 2.038s ago] {'user_name_1': 'duynguyenngoc', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-03 12:19:54,468 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 28, in login
    user = user_entity.UserInDB(**user_dict)
TypeError: ModelMetaclass object argument after ** must be a mapping, not User
2021-06-03 12:20:25,659 - INFO - Shutting down
2021-06-03 12:20:25,760 - INFO - Waiting for application shutdown.
2021-06-03 12:20:25,760 - INFO - Application shutdown complete.
2021-06-03 12:20:25,760 - INFO - Finished server process [698]
2021-06-03 12:20:27,087 - INFO - Started server process [701]
2021-06-03 12:20:27,087 - INFO - Waiting for application startup.
2021-06-03 12:20:27,088 - INFO - Application startup complete.
2021-06-03 12:20:27,088 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 12:20:34,696 - INFO - select version()
2021-06-03 12:20:34,696 - INFO - [raw sql] {}
2021-06-03 12:20:34,800 - INFO - select current_schema()
2021-06-03 12:20:34,801 - INFO - [raw sql] {}
2021-06-03 12:20:34,887 - INFO - show standard_conforming_strings
2021-06-03 12:20:34,887 - INFO - [raw sql] {}
2021-06-03 12:20:34,972 - INFO - BEGIN (implicit)
2021-06-03 12:20:34,978 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".user_name = %(user_name_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-03 12:20:34,978 - INFO - [generated in 0.00034s] {'user_name_1': 'duynguyenngoc', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-03 12:20:35,068 - INFO - ROLLBACK
2021-06-03 12:21:36,282 - INFO - Shutting down
2021-06-03 12:21:36,383 - INFO - Finished server process [701]
2021-06-03 12:21:37,619 - INFO - Started server process [704]
2021-06-03 12:21:37,619 - INFO - Waiting for application startup.
2021-06-03 12:21:37,620 - INFO - Application startup complete.
2021-06-03 12:21:37,620 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 12:21:39,991 - INFO - select version()
2021-06-03 12:21:39,992 - INFO - [raw sql] {}
2021-06-03 12:21:40,082 - INFO - select current_schema()
2021-06-03 12:21:40,082 - INFO - [raw sql] {}
2021-06-03 12:21:40,153 - INFO - show standard_conforming_strings
2021-06-03 12:21:40,154 - INFO - [raw sql] {}
2021-06-03 12:21:40,244 - INFO - BEGIN (implicit)
2021-06-03 12:21:40,259 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".user_name = %(user_name_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-03 12:21:40,260 - INFO - [generated in 0.00150s] {'user_name_1': 'duynguyenngoc', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-03 12:21:40,350 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 29, in login
    return user_entity.UserBase(**user_dict)
TypeError: ModelMetaclass object argument after ** must be a mapping, not User
2021-06-03 12:21:51,047 - INFO - Shutting down
2021-06-03 12:21:51,149 - INFO - Waiting for application shutdown.
2021-06-03 12:21:51,149 - INFO - Application shutdown complete.
2021-06-03 12:21:51,149 - INFO - Finished server process [704]
2021-06-03 12:21:52,463 - INFO - Started server process [707]
2021-06-03 12:21:52,463 - INFO - Waiting for application startup.
2021-06-03 12:21:52,464 - INFO - Application startup complete.
2021-06-03 12:21:52,465 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 12:22:06,723 - INFO - select version()
2021-06-03 12:22:06,723 - INFO - [raw sql] {}
2021-06-03 12:22:06,830 - INFO - select current_schema()
2021-06-03 12:22:06,830 - INFO - [raw sql] {}
2021-06-03 12:22:06,905 - INFO - show standard_conforming_strings
2021-06-03 12:22:06,905 - INFO - [raw sql] {}
2021-06-03 12:22:06,995 - INFO - BEGIN (implicit)
2021-06-03 12:22:07,008 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".user_name = %(user_name_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-03 12:22:07,008 - INFO - [generated in 0.00058s] {'user_name_1': 'duynguyenngoc', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-03 12:22:07,115 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 29, in login
    return user_entity.UserBase(user_dict)
  File "pydantic/main.py", line 391, in pydantic.main.BaseModel.__init__
TypeError: __init__() takes exactly 1 positional argument (2 given)
2021-06-03 12:22:22,628 - INFO - Shutting down
2021-06-03 12:22:22,729 - INFO - Waiting for application shutdown.
2021-06-03 12:22:22,730 - INFO - Application shutdown complete.
2021-06-03 12:22:22,730 - INFO - Finished server process [707]
2021-06-03 12:22:23,952 - INFO - Started server process [710]
2021-06-03 12:22:23,953 - INFO - Waiting for application startup.
2021-06-03 12:22:23,953 - INFO - Application startup complete.
2021-06-03 12:22:23,954 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 12:22:27,083 - INFO - select version()
2021-06-03 12:22:27,083 - INFO - [raw sql] {}
2021-06-03 12:22:27,172 - INFO - select current_schema()
2021-06-03 12:22:27,172 - INFO - [raw sql] {}
2021-06-03 12:22:27,245 - INFO - show standard_conforming_strings
2021-06-03 12:22:27,245 - INFO - [raw sql] {}
2021-06-03 12:22:27,335 - INFO - BEGIN (implicit)
2021-06-03 12:22:27,340 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".user_name = %(user_name_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-03 12:22:27,340 - INFO - [generated in 0.00029s] {'user_name_1': 'duynguyenngoc', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-03 12:22:27,432 - INFO - ROLLBACK
2021-06-03 12:22:47,176 - INFO - Shutting down
2021-06-03 12:22:47,277 - INFO - Waiting for application shutdown.
2021-06-03 12:22:47,278 - INFO - Application shutdown complete.
2021-06-03 12:22:47,278 - INFO - Finished server process [710]
2021-06-03 12:22:48,585 - INFO - Started server process [713]
2021-06-03 12:22:48,585 - INFO - Waiting for application startup.
2021-06-03 12:22:48,585 - INFO - Application startup complete.
2021-06-03 12:22:48,586 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 16:14:34,491 - INFO - Shutting down
2021-06-03 16:14:34,593 - INFO - Waiting for application shutdown.
2021-06-03 16:14:34,593 - INFO - Application shutdown complete.
2021-06-03 16:14:34,593 - INFO - Finished server process [713]
2021-06-03 16:18:33,546 - INFO - Started server process [723]
2021-06-03 16:18:33,546 - INFO - Waiting for application startup.
2021-06-03 16:18:33,547 - INFO - Application startup complete.
2021-06-03 16:18:33,548 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 16:18:58,027 - INFO - select version()
2021-06-03 16:18:58,027 - INFO - [raw sql] {}
2021-06-03 16:18:58,116 - INFO - select current_schema()
2021-06-03 16:18:58,116 - INFO - [raw sql] {}
2021-06-03 16:18:58,200 - INFO - show standard_conforming_strings
2021-06-03 16:18:58,201 - INFO - [raw sql] {}
2021-06-03 16:18:58,288 - INFO - BEGIN (implicit)
2021-06-03 16:18:58,294 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".user_name = %(user_name_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-03 16:18:58,294 - INFO - [generated in 0.00039s] {'user_name_1': 'duynguyenngoc', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-03 16:18:58,388 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 24, in login
    user = account_entity.TokenCreate(**user_dict.__dict__, role_name = user_db.role.role_name, user_id = user_db.id)
NameError: name 'user_dict' is not defined
2021-06-03 16:19:12,542 - INFO - Shutting down
2021-06-03 16:19:12,644 - INFO - Waiting for application shutdown.
2021-06-03 16:19:12,644 - INFO - Application shutdown complete.
2021-06-03 16:19:12,645 - INFO - Finished server process [723]
2021-06-03 16:19:14,010 - INFO - Started server process [726]
2021-06-03 16:19:14,010 - INFO - Waiting for application startup.
2021-06-03 16:19:14,010 - INFO - Application startup complete.
2021-06-03 16:19:14,011 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 16:19:16,576 - INFO - select version()
2021-06-03 16:19:16,576 - INFO - [raw sql] {}
2021-06-03 16:19:16,669 - INFO - select current_schema()
2021-06-03 16:19:16,669 - INFO - [raw sql] {}
2021-06-03 16:19:16,764 - INFO - show standard_conforming_strings
2021-06-03 16:19:16,765 - INFO - [raw sql] {}
2021-06-03 16:19:16,852 - INFO - BEGIN (implicit)
2021-06-03 16:19:16,865 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".user_name = %(user_name_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-03 16:19:16,865 - INFO - [generated in 0.00081s] {'user_name_1': 'duynguyenngoc', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-03 16:19:16,966 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 24, in login
    user = account_entity.TokenCreate(**user_db.__dict__, role_name = user_db.role.role_name, user_id = user_db.id)
AttributeError: 'Role' object has no attribute 'role_name'
2021-06-03 16:19:41,079 - INFO - Shutting down
2021-06-03 16:19:41,181 - INFO - Waiting for application shutdown.
2021-06-03 16:19:41,181 - INFO - Application shutdown complete.
2021-06-03 16:19:41,182 - INFO - Finished server process [726]
2021-06-03 16:19:42,471 - INFO - Started server process [729]
2021-06-03 16:19:42,471 - INFO - Waiting for application startup.
2021-06-03 16:19:42,472 - INFO - Application startup complete.
2021-06-03 16:19:42,472 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 16:19:45,633 - INFO - select version()
2021-06-03 16:19:45,633 - INFO - [raw sql] {}
2021-06-03 16:19:45,721 - INFO - select current_schema()
2021-06-03 16:19:45,721 - INFO - [raw sql] {}
2021-06-03 16:19:45,794 - INFO - show standard_conforming_strings
2021-06-03 16:19:45,794 - INFO - [raw sql] {}
2021-06-03 16:19:45,881 - INFO - BEGIN (implicit)
2021-06-03 16:19:45,893 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".user_name = %(user_name_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-03 16:19:45,893 - INFO - [generated in 0.00069s] {'user_name_1': 'duynguyenngoc', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-03 16:19:45,986 - INFO - ROLLBACK
2021-06-03 16:20:09,058 - INFO - Shutting down
2021-06-03 16:20:09,161 - INFO - Waiting for application shutdown.
2021-06-03 16:20:09,162 - INFO - Application shutdown complete.
2021-06-03 16:20:09,162 - INFO - Finished server process [729]
2021-06-03 16:20:10,495 - INFO - Started server process [732]
2021-06-03 16:20:10,495 - INFO - Waiting for application startup.
2021-06-03 16:20:10,495 - INFO - Application startup complete.
2021-06-03 16:20:10,496 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 16:20:13,367 - INFO - select version()
2021-06-03 16:20:13,367 - INFO - [raw sql] {}
2021-06-03 16:20:13,470 - INFO - select current_schema()
2021-06-03 16:20:13,470 - INFO - [raw sql] {}
2021-06-03 16:20:13,558 - INFO - show standard_conforming_strings
2021-06-03 16:20:13,559 - INFO - [raw sql] {}
2021-06-03 16:20:13,662 - INFO - BEGIN (implicit)
2021-06-03 16:20:13,673 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".user_name = %(user_name_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-03 16:20:13,673 - INFO - [generated in 0.00064s] {'user_name_1': 'duynguyenngoc', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-03 16:20:13,790 - INFO - ROLLBACK
2021-06-03 16:26:55,921 - INFO - Shutting down
2021-06-03 16:26:56,023 - INFO - Finished server process [732]
2021-06-03 16:37:13,189 - INFO - Started server process [1732]
2021-06-03 16:37:13,190 - INFO - Waiting for application startup.
2021-06-03 16:37:13,190 - INFO - Application startup complete.
2021-06-03 16:37:13,191 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 16:37:22,573 - INFO - select version()
2021-06-03 16:37:22,574 - INFO - [raw sql] {}
2021-06-03 16:37:22,656 - INFO - select current_schema()
2021-06-03 16:37:22,657 - INFO - [raw sql] {}
2021-06-03 16:37:22,723 - INFO - show standard_conforming_strings
2021-06-03 16:37:22,724 - INFO - [raw sql] {}
2021-06-03 16:37:22,806 - INFO - BEGIN (implicit)
2021-06-03 16:37:22,819 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".user_name = %(user_name_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-03 16:37:22,819 - INFO - [generated in 0.00098s] {'user_name_1': 'duynguyenngoc', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-03 16:37:22,909 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 28, in login
    access_token = token_helper.create_access_token(token_create.__dict__)
  File "/home/pot/project/web-management/backend/app/securities/token.py", line 21, in create_access_token
    expire = datetime.utcnow() + timedelta(minutes=config.ACCESS_TOKEN_EXPIRE_MINUTES)
TypeError: unsupported type for timedelta minutes component: str
2021-06-03 16:38:10,129 - INFO - Shutting down
2021-06-03 16:38:10,230 - INFO - Finished server process [1732]
2021-06-03 16:38:11,586 - INFO - Started server process [1735]
2021-06-03 16:38:11,586 - INFO - Waiting for application startup.
2021-06-03 16:38:11,587 - INFO - Application startup complete.
2021-06-03 16:38:11,588 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 16:38:15,057 - INFO - select version()
2021-06-03 16:38:15,057 - INFO - [raw sql] {}
2021-06-03 16:38:15,151 - INFO - select current_schema()
2021-06-03 16:38:15,152 - INFO - [raw sql] {}
2021-06-03 16:38:15,225 - INFO - show standard_conforming_strings
2021-06-03 16:38:15,226 - INFO - [raw sql] {}
2021-06-03 16:38:15,314 - INFO - BEGIN (implicit)
2021-06-03 16:38:15,322 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".user_name = %(user_name_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-03 16:38:15,322 - INFO - [generated in 0.00072s] {'user_name_1': 'duynguyenngoc', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-03 16:38:15,417 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 28, in login
    access_token = token_helper.create_access_token(token_create.__dict__)
  File "/home/pot/project/web-management/backend/app/securities/token.py", line 23, in create_access_token
    encoded_jwt = jwt.encode(to_encode, config.SECRET_KEY, algorithm=algorithm)
  File "/home/pot/.local/lib/python3.8/site-packages/jose/jwt.py", line 64, in encode
    return jws.sign(claims, key, headers=headers, algorithm=algorithm)
  File "/home/pot/.local/lib/python3.8/site-packages/jose/jws.py", line 46, in sign
    raise JWSError('Algorithm %s not supported.' % algorithm)
jose.exceptions.JWSError: Algorithm SHA256 not supported.
2021-06-03 16:39:48,508 - INFO - Shutting down
2021-06-03 16:39:48,610 - INFO - Waiting for application shutdown.
2021-06-03 16:39:48,611 - INFO - Application shutdown complete.
2021-06-03 16:39:48,612 - INFO - Finished server process [1735]
2021-06-03 16:39:50,051 - INFO - Started server process [1738]
2021-06-03 16:39:50,052 - INFO - Waiting for application startup.
2021-06-03 16:39:50,052 - INFO - Application startup complete.
2021-06-03 16:39:50,053 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 16:40:37,191 - INFO - Shutting down
2021-06-03 16:40:37,293 - INFO - Waiting for application shutdown.
2021-06-03 16:40:37,293 - INFO - Application shutdown complete.
2021-06-03 16:40:37,293 - INFO - Finished server process [1738]
2021-06-03 16:40:38,735 - INFO - Started server process [1740]
2021-06-03 16:40:38,736 - INFO - Waiting for application startup.
2021-06-03 16:40:38,736 - INFO - Application startup complete.
2021-06-03 16:40:38,737 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 16:40:52,375 - INFO - select version()
2021-06-03 16:40:52,375 - INFO - [raw sql] {}
2021-06-03 16:40:52,464 - INFO - select current_schema()
2021-06-03 16:40:52,464 - INFO - [raw sql] {}
2021-06-03 16:40:52,541 - INFO - show standard_conforming_strings
2021-06-03 16:40:52,541 - INFO - [raw sql] {}
2021-06-03 16:40:52,631 - INFO - BEGIN (implicit)
2021-06-03 16:40:52,645 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".user_name = %(user_name_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-03 16:40:52,645 - INFO - [generated in 0.00070s] {'user_name_1': 'da', 'password_1': 'da', 'param_1': 1}
2021-06-03 16:40:52,738 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 26, in login
    raise HTTPException(status_code=400, detail="Incorrect username or password")
NameError: name 'HTTPException' is not defined
2021-06-03 16:41:13,671 - INFO - Shutting down
2021-06-03 16:41:13,773 - INFO - Waiting for application shutdown.
2021-06-03 16:41:13,773 - INFO - Application shutdown complete.
2021-06-03 16:41:13,773 - INFO - Finished server process [1740]
2021-06-03 16:41:15,116 - INFO - Started server process [1743]
2021-06-03 16:41:15,117 - INFO - Waiting for application startup.
2021-06-03 16:41:15,117 - INFO - Application startup complete.
2021-06-03 16:41:15,119 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 16:41:18,288 - INFO - select version()
2021-06-03 16:41:18,290 - INFO - [raw sql] {}
2021-06-03 16:41:18,419 - INFO - select current_schema()
2021-06-03 16:41:18,420 - INFO - [raw sql] {}
2021-06-03 16:41:18,495 - INFO - show standard_conforming_strings
2021-06-03 16:41:18,496 - INFO - [raw sql] {}
2021-06-03 16:41:18,591 - INFO - BEGIN (implicit)
2021-06-03 16:41:18,603 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".user_name = %(user_name_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-03 16:41:18,604 - INFO - [generated in 0.00091s] {'user_name_1': 'da', 'password_1': 'da', 'param_1': 1}
2021-06-03 16:41:18,703 - INFO - ROLLBACK
2021-06-03 16:41:30,228 - INFO - BEGIN (implicit)
2021-06-03 16:41:30,229 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".user_name = %(user_name_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-03 16:41:30,229 - INFO - [cached since 11.63s ago] {'user_name_1': 'da', 'password_1': 'da', 'param_1': 1}
2021-06-03 16:41:30,273 - INFO - ROLLBACK
2021-06-03 16:41:31,371 - INFO - BEGIN (implicit)
2021-06-03 16:41:31,372 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".user_name = %(user_name_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-03 16:41:31,373 - INFO - [cached since 12.77s ago] {'user_name_1': 'da', 'password_1': 'da', 'param_1': 1}
2021-06-03 16:41:31,411 - INFO - ROLLBACK
2021-06-03 16:41:45,064 - INFO - BEGIN (implicit)
2021-06-03 16:41:45,065 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".user_name = %(user_name_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-03 16:41:45,065 - INFO - [cached since 26.46s ago] {'user_name_1': 'duynguyenngoc', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-03 16:41:45,112 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.8/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.8/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 29, in login
    access_token = token_helper.create_access_token(token_create.__dict__)
  File "/home/pot/project/web-management/backend/app/securities/token.py", line 24, in create_access_token
    return encrypt(encoded_jwt)
  File "/home/pot/project/web-management/backend/app/securities/token.py", line 36, in encrypt
    ase_ciper = AES.new(secret_key, AES.MODE_GCM)
AttributeError: module 'Crypto.Cipher.AES' has no attribute 'MODE_GCM'
2021-06-03 16:42:22,746 - INFO - Shutting down
2021-06-03 16:42:22,848 - INFO - Waiting for application shutdown.
2021-06-03 16:42:22,848 - INFO - Application shutdown complete.
2021-06-03 16:42:22,849 - INFO - Finished server process [1743]
2021-06-03 16:42:56,614 - INFO - Started server process [1751]
2021-06-03 16:42:56,615 - INFO - Waiting for application startup.
2021-06-03 16:42:56,615 - INFO - Application startup complete.
2021-06-03 16:42:56,616 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 16:43:00,487 - INFO - select version()
2021-06-03 16:43:00,488 - INFO - [raw sql] {}
2021-06-03 16:43:00,567 - INFO - select current_schema()
2021-06-03 16:43:00,568 - INFO - [raw sql] {}
2021-06-03 16:43:00,634 - INFO - show standard_conforming_strings
2021-06-03 16:43:00,634 - INFO - [raw sql] {}
2021-06-03 16:43:00,714 - INFO - BEGIN (implicit)
2021-06-03 16:43:00,724 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".user_name = %(user_name_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-03 16:43:00,725 - INFO - [generated in 0.00049s] {'user_name_1': 'duynguyenngoc', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-03 16:43:00,815 - INFO - ROLLBACK
2021-06-03 16:43:42,037 - INFO - Shutting down
2021-06-03 16:43:42,140 - INFO - Waiting for application shutdown.
2021-06-03 16:43:42,140 - INFO - Application shutdown complete.
2021-06-03 16:43:42,140 - INFO - Finished server process [1751]
2021-06-03 16:43:45,303 - INFO - Started server process [1834]
2021-06-03 16:43:45,304 - INFO - Waiting for application startup.
2021-06-03 16:43:45,304 - INFO - Application startup complete.
2021-06-03 16:43:45,305 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 16:43:46,282 - INFO - select version()
2021-06-03 16:43:46,282 - INFO - [raw sql] {}
2021-06-03 16:43:46,371 - INFO - select current_schema()
2021-06-03 16:43:46,371 - INFO - [raw sql] {}
2021-06-03 16:43:46,446 - INFO - show standard_conforming_strings
2021-06-03 16:43:46,447 - INFO - [raw sql] {}
2021-06-03 16:43:46,534 - INFO - BEGIN (implicit)
2021-06-03 16:43:46,552 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".user_name = %(user_name_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-03 16:43:46,552 - INFO - [generated in 0.00075s] {'user_name_1': 'duynguyenngoc', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-03 16:43:46,657 - INFO - ROLLBACK
2021-06-03 16:48:48,234 - INFO - Shutting down
2021-06-03 16:48:48,336 - INFO - Waiting for application shutdown.
2021-06-03 16:48:48,336 - INFO - Application shutdown complete.
2021-06-03 16:48:48,337 - INFO - Finished server process [1834]
2021-06-03 13:05:27,492 - INFO - Started server process [9]
2021-06-03 13:05:27,494 - INFO - Waiting for application startup.
2021-06-03 13:05:27,494 - INFO - Application startup complete.
2021-06-03 13:05:27,495 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 13:06:03,143 - INFO - Started server process [8]
2021-06-03 13:06:03,146 - INFO - Waiting for application startup.
2021-06-03 13:06:03,147 - INFO - Application startup complete.
2021-06-03 13:06:03,149 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 13:18:44,157 - INFO - Started server process [8]
2021-06-03 13:18:44,160 - INFO - Waiting for application startup.
2021-06-03 13:18:44,160 - INFO - Application startup complete.
2021-06-03 13:18:44,161 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 13:20:10,418 - INFO - Started server process [8]
2021-06-03 13:20:10,421 - INFO - Waiting for application startup.
2021-06-03 13:20:10,421 - INFO - Application startup complete.
2021-06-03 13:20:10,422 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 13:30:29,823 - INFO - Started server process [8]
2021-06-03 13:30:29,825 - INFO - Waiting for application startup.
2021-06-03 13:30:29,826 - INFO - Application startup complete.
2021-06-03 13:30:29,827 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 14:05:44,033 - INFO - Started server process [8]
2021-06-03 14:05:44,036 - INFO - Waiting for application startup.
2021-06-03 14:05:44,037 - INFO - Application startup complete.
2021-06-03 14:05:44,038 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 14:13:17,296 - INFO - Started server process [7]
2021-06-03 14:13:17,299 - INFO - Waiting for application startup.
2021-06-03 14:13:17,300 - INFO - Application startup complete.
2021-06-03 14:13:17,301 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 14:17:05,006 - INFO - Started server process [8]
2021-06-03 14:17:05,009 - INFO - Waiting for application startup.
2021-06-03 14:17:05,010 - INFO - Application startup complete.
2021-06-03 14:17:05,012 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 14:17:20,717 - INFO - select version()
2021-06-03 14:17:20,719 - INFO - [raw sql] {}
2021-06-03 14:17:20,823 - INFO - select current_schema()
2021-06-03 14:17:20,824 - INFO - [raw sql] {}
2021-06-03 14:17:20,898 - INFO - show standard_conforming_strings
2021-06-03 14:17:20,899 - INFO - [raw sql] {}
2021-06-03 14:17:20,997 - INFO - BEGIN (implicit)
2021-06-03 14:17:21,004 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".user_name = %(user_name_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-03 14:17:21,005 - INFO - [generated in 0.00078s] {'user_name_1': 'duynguyenngoc', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-03 14:17:21,097 - INFO - ROLLBACK
2021-06-03 14:17:42,849 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/usr/local/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "/app/main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/usr/local/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/app/api/resources/v1/account.py", line 36, in refresh_token
    decrypt = token_helper.decrypt(refresh_token)
  File "/app/securities/token.py", line 44, in decrypt
    decrypt = ase_ciper.decrypt_and_verify(msg)
TypeError: decrypt_and_verify() missing 1 required positional argument: 'received_mac_tag'
2021-06-03 14:20:02,188 - INFO - Started server process [8]
2021-06-03 14:20:02,191 - INFO - Waiting for application startup.
2021-06-03 14:20:02,192 - INFO - Application startup complete.
2021-06-03 14:20:02,193 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 14:20:22,036 - INFO - select version()
2021-06-03 14:20:22,037 - INFO - [raw sql] {}
2021-06-03 14:20:22,143 - INFO - select current_schema()
2021-06-03 14:20:22,143 - INFO - [raw sql] {}
2021-06-03 14:20:22,236 - INFO - show standard_conforming_strings
2021-06-03 14:20:22,236 - INFO - [raw sql] {}
2021-06-03 14:20:22,334 - INFO - BEGIN (implicit)
2021-06-03 14:20:22,355 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".user_name = %(user_name_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-03 14:20:22,358 - INFO - [generated in 0.00247s] {'user_name_1': 'duynguyenngoc', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-03 14:20:22,459 - INFO - ROLLBACK
2021-06-03 14:20:27,095 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/usr/local/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "/app/main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/usr/local/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/app/api/resources/v1/account.py", line 36, in refresh_token
    decrypt = token_helper.decrypt(refresh_token)
  File "/app/securities/token.py", line 44, in decrypt
    decrypt = ase_ciper.decrypt(msg)
  File "/usr/local/lib/python3.9/site-packages/Crypto/Cipher/_mode_gcm.py", line 429, in decrypt
    self._update(ciphertext)
  File "/usr/local/lib/python3.9/site-packages/Crypto/Cipher/_mode_gcm.py", line 319, in _update
    self._signer.update(data[:update_len])
  File "/usr/local/lib/python3.9/site-packages/Crypto/Cipher/_mode_gcm.py", line 135, in update
    c_uint8_ptr(block_data),
  File "/usr/local/lib/python3.9/site-packages/Crypto/Util/_raw_api.py", line 232, in c_uint8_ptr
    raise TypeError("Object type %s cannot be passed to C code" % type(data))
TypeError: Object type <class 'str'> cannot be passed to C code
2021-06-03 14:22:57,874 - INFO - Started server process [8]
2021-06-03 14:22:57,877 - INFO - Waiting for application startup.
2021-06-03 14:22:57,878 - INFO - Application startup complete.
2021-06-03 14:22:57,879 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 14:23:25,372 - INFO - Started server process [9]
2021-06-03 14:23:25,375 - INFO - Waiting for application startup.
2021-06-03 14:23:25,375 - INFO - Application startup complete.
2021-06-03 14:23:25,376 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 14:23:53,904 - INFO - Started server process [8]
2021-06-03 14:23:53,907 - INFO - Waiting for application startup.
2021-06-03 14:23:53,907 - INFO - Application startup complete.
2021-06-03 14:23:53,909 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 14:25:29,531 - INFO - Started server process [8]
2021-06-03 14:25:29,534 - INFO - Waiting for application startup.
2021-06-03 14:25:29,535 - INFO - Application startup complete.
2021-06-03 14:25:29,536 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 14:25:34,947 - ERROR - [error]: 
2021-06-03 14:25:36,429 - ERROR - [error]: 
2021-06-03 14:25:36,867 - ERROR - [error]: 
2021-06-03 14:25:37,091 - ERROR - [error]: 
2021-06-03 14:26:26,046 - INFO - Started server process [8]
2021-06-03 14:26:26,049 - INFO - Waiting for application startup.
2021-06-03 14:26:26,050 - INFO - Application startup complete.
2021-06-03 14:26:26,051 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 14:28:50,663 - INFO - Started server process [8]
2021-06-03 14:28:50,666 - INFO - Waiting for application startup.
2021-06-03 14:28:50,667 - INFO - Application startup complete.
2021-06-03 14:28:50,668 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 14:28:55,627 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/usr/local/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "/app/main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/usr/local/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/app/api/resources/v1/account.py", line 38, in refresh_token
    decrypt = token_helper.decrypt(refresh_token)
  File "/app/securities/token.py", line 49, in decrypt
    decrypted = ase_ciper.decrypt_and_verify(cipher_text, auth_tag)
  File "/usr/local/lib/python3.9/site-packages/Crypto/Cipher/_mode_gcm.py", line 567, in decrypt_and_verify
    self.verify(received_mac_tag)
  File "/usr/local/lib/python3.9/site-packages/Crypto/Cipher/_mode_gcm.py", line 508, in verify
    raise ValueError("MAC check failed")
ValueError: MAC check failed
2021-06-03 14:28:56,395 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/usr/local/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "/app/main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/usr/local/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/app/api/resources/v1/account.py", line 38, in refresh_token
    decrypt = token_helper.decrypt(refresh_token)
  File "/app/securities/token.py", line 49, in decrypt
    decrypted = ase_ciper.decrypt_and_verify(cipher_text, auth_tag)
  File "/usr/local/lib/python3.9/site-packages/Crypto/Cipher/_mode_gcm.py", line 567, in decrypt_and_verify
    self.verify(received_mac_tag)
  File "/usr/local/lib/python3.9/site-packages/Crypto/Cipher/_mode_gcm.py", line 508, in verify
    raise ValueError("MAC check failed")
ValueError: MAC check failed
2021-06-03 14:28:56,850 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/usr/local/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "/app/main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/usr/local/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/app/api/resources/v1/account.py", line 38, in refresh_token
    decrypt = token_helper.decrypt(refresh_token)
  File "/app/securities/token.py", line 49, in decrypt
    decrypted = ase_ciper.decrypt_and_verify(cipher_text, auth_tag)
  File "/usr/local/lib/python3.9/site-packages/Crypto/Cipher/_mode_gcm.py", line 567, in decrypt_and_verify
    self.verify(received_mac_tag)
  File "/usr/local/lib/python3.9/site-packages/Crypto/Cipher/_mode_gcm.py", line 508, in verify
    raise ValueError("MAC check failed")
ValueError: MAC check failed
2021-06-03 14:28:57,111 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/usr/local/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "/app/main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/usr/local/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/app/api/resources/v1/account.py", line 38, in refresh_token
    decrypt = token_helper.decrypt(refresh_token)
  File "/app/securities/token.py", line 49, in decrypt
    decrypted = ase_ciper.decrypt_and_verify(cipher_text, auth_tag)
  File "/usr/local/lib/python3.9/site-packages/Crypto/Cipher/_mode_gcm.py", line 567, in decrypt_and_verify
    self.verify(received_mac_tag)
  File "/usr/local/lib/python3.9/site-packages/Crypto/Cipher/_mode_gcm.py", line 508, in verify
    raise ValueError("MAC check failed")
ValueError: MAC check failed
2021-06-03 14:40:01,063 - INFO - Started server process [8]
2021-06-03 14:40:01,065 - INFO - Waiting for application startup.
2021-06-03 14:40:01,066 - INFO - Application startup complete.
2021-06-03 14:40:01,067 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 14:40:18,448 - INFO - select version()
2021-06-03 14:40:18,449 - INFO - [raw sql] {}
2021-06-03 14:40:18,544 - INFO - select current_schema()
2021-06-03 14:40:18,546 - INFO - [raw sql] {}
2021-06-03 14:40:18,630 - INFO - show standard_conforming_strings
2021-06-03 14:40:18,632 - INFO - [raw sql] {}
2021-06-03 14:40:18,728 - INFO - BEGIN (implicit)
2021-06-03 14:40:18,739 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".user_name = %(user_name_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-03 14:40:18,740 - INFO - [generated in 0.00096s] {'user_name_1': 'duynguyenngoc', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-03 14:40:18,859 - INFO - ROLLBACK
2021-06-03 14:41:23,664 - INFO - Started server process [8]
2021-06-03 14:41:23,668 - INFO - Waiting for application startup.
2021-06-03 14:41:23,669 - INFO - Application startup complete.
2021-06-03 14:41:23,670 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 14:41:47,806 - INFO - Started server process [8]
2021-06-03 14:41:47,809 - INFO - Waiting for application startup.
2021-06-03 14:41:47,810 - INFO - Application startup complete.
2021-06-03 14:41:47,811 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 14:42:24,618 - INFO - Started server process [8]
2021-06-03 14:42:24,621 - INFO - Waiting for application startup.
2021-06-03 14:42:24,622 - INFO - Application startup complete.
2021-06-03 14:42:24,623 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 15:16:16,050 - INFO - Started server process [7]
2021-06-03 15:16:16,053 - INFO - Waiting for application startup.
2021-06-03 15:16:16,054 - INFO - Application startup complete.
2021-06-03 15:16:16,056 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 15:16:49,291 - INFO - select version()
2021-06-03 15:16:49,292 - INFO - [raw sql] {}
2021-06-03 15:16:49,382 - INFO - select current_schema()
2021-06-03 15:16:49,382 - INFO - [raw sql] {}
2021-06-03 15:16:49,461 - INFO - show standard_conforming_strings
2021-06-03 15:16:49,463 - INFO - [raw sql] {}
2021-06-03 15:16:49,561 - INFO - BEGIN (implicit)
2021-06-03 15:16:49,579 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".user_name = %(user_name_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-03 15:16:49,581 - INFO - [generated in 0.00163s] {'user_name_1': 'duynguyenngoc', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-03 15:16:49,691 - INFO - ROLLBACK
2021-06-03 15:16:56,947 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/usr/local/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "/app/main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/usr/local/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/app/api/resources/v1/account.py", line 44, in refresh_token
    user_db = token_helper.get_current_user(db_session, token)
  File "/app/securities/token.py", line 32, in get_current_user
    payload = jwt.decode(token, secret_key, algorithms=[algorithm])
  File "/usr/local/lib/python3.9/site-packages/jose/jwt.py", line 154, in decode
    payload = jws.verify(token, key, algorithms, verify=verify_signature)
  File "/usr/local/lib/python3.9/site-packages/jose/jws.py", line 80, in verify
    _verify_signature(signing_input, header, signature, key, algorithms)
  File "/usr/local/lib/python3.9/site-packages/jose/jws.py", line 266, in _verify_signature
    keys = _get_keys(key)
  File "/usr/local/lib/python3.9/site-packages/jose/jws.py", line 233, in _get_keys
    if 'keys' in key:
TypeError: a bytes-like object is required, not 'str'
2021-06-03 15:18:09,011 - INFO - Started server process [8]
2021-06-03 15:18:09,014 - INFO - Waiting for application startup.
2021-06-03 15:18:09,015 - INFO - Application startup complete.
2021-06-03 15:18:09,015 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 15:18:10,806 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/usr/local/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "/app/main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/usr/local/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/app/api/resources/v1/account.py", line 44, in refresh_token
    user_db = token_helper.get_current_user(db_session, token)
  File "/app/securities/token.py", line 32, in get_current_user
    payload = jwt.decode(token, secret_key, algorithms=[algorithm])
  File "/usr/local/lib/python3.9/site-packages/jose/jwt.py", line 154, in decode
    payload = jws.verify(token, key, algorithms, verify=verify_signature)
  File "/usr/local/lib/python3.9/site-packages/jose/jws.py", line 80, in verify
    _verify_signature(signing_input, header, signature, key, algorithms)
  File "/usr/local/lib/python3.9/site-packages/jose/jws.py", line 266, in _verify_signature
    keys = _get_keys(key)
  File "/usr/local/lib/python3.9/site-packages/jose/jws.py", line 233, in _get_keys
    if 'keys' in key:
TypeError: a bytes-like object is required, not 'str'
2021-06-03 15:18:11,808 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/usr/local/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "/app/main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/usr/local/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/app/api/resources/v1/account.py", line 44, in refresh_token
    user_db = token_helper.get_current_user(db_session, token)
  File "/app/securities/token.py", line 32, in get_current_user
    payload = jwt.decode(token, secret_key, algorithms=[algorithm])
  File "/usr/local/lib/python3.9/site-packages/jose/jwt.py", line 154, in decode
    payload = jws.verify(token, key, algorithms, verify=verify_signature)
  File "/usr/local/lib/python3.9/site-packages/jose/jws.py", line 80, in verify
    _verify_signature(signing_input, header, signature, key, algorithms)
  File "/usr/local/lib/python3.9/site-packages/jose/jws.py", line 266, in _verify_signature
    keys = _get_keys(key)
  File "/usr/local/lib/python3.9/site-packages/jose/jws.py", line 233, in _get_keys
    if 'keys' in key:
TypeError: a bytes-like object is required, not 'str'
2021-06-03 15:19:15,497 - INFO - Started server process [8]
2021-06-03 15:19:15,500 - INFO - Waiting for application startup.
2021-06-03 15:19:15,501 - INFO - Application startup complete.
2021-06-03 15:19:15,502 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 15:19:45,760 - INFO - Started server process [8]
2021-06-03 15:19:45,764 - INFO - Waiting for application startup.
2021-06-03 15:19:45,765 - INFO - Application startup complete.
2021-06-03 15:19:45,767 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 15:20:19,210 - INFO - Started server process [7]
2021-06-03 15:20:19,213 - INFO - Waiting for application startup.
2021-06-03 15:20:19,213 - INFO - Application startup complete.
2021-06-03 15:20:19,214 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 15:23:02,008 - INFO - Started server process [8]
2021-06-03 15:23:02,011 - INFO - Waiting for application startup.
2021-06-03 15:23:02,012 - INFO - Application startup complete.
2021-06-03 15:23:02,012 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 15:23:04,749 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/usr/local/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "/app/main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/usr/local/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/app/api/resources/v1/account.py", line 44, in refresh_token
    user_db = token_helper.get_current_user(db=db_session, token= token)
  File "/app/securities/token.py", line 32, in get_current_user
    payload = jwt.decode(token, secret_key, algorithms=[algorithm])
  File "/usr/local/lib/python3.9/site-packages/jose/jwt.py", line 154, in decode
    payload = jws.verify(token, key, algorithms, verify=verify_signature)
  File "/usr/local/lib/python3.9/site-packages/jose/jws.py", line 80, in verify
    _verify_signature(signing_input, header, signature, key, algorithms)
  File "/usr/local/lib/python3.9/site-packages/jose/jws.py", line 266, in _verify_signature
    keys = _get_keys(key)
  File "/usr/local/lib/python3.9/site-packages/jose/jws.py", line 233, in _get_keys
    if 'keys' in key:
TypeError: a bytes-like object is required, not 'str'
2021-06-03 15:23:05,684 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/usr/local/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "/app/main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/usr/local/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/app/api/resources/v1/account.py", line 44, in refresh_token
    user_db = token_helper.get_current_user(db=db_session, token= token)
  File "/app/securities/token.py", line 32, in get_current_user
    payload = jwt.decode(token, secret_key, algorithms=[algorithm])
  File "/usr/local/lib/python3.9/site-packages/jose/jwt.py", line 154, in decode
    payload = jws.verify(token, key, algorithms, verify=verify_signature)
  File "/usr/local/lib/python3.9/site-packages/jose/jws.py", line 80, in verify
    _verify_signature(signing_input, header, signature, key, algorithms)
  File "/usr/local/lib/python3.9/site-packages/jose/jws.py", line 266, in _verify_signature
    keys = _get_keys(key)
  File "/usr/local/lib/python3.9/site-packages/jose/jws.py", line 233, in _get_keys
    if 'keys' in key:
TypeError: a bytes-like object is required, not 'str'
2021-06-03 15:24:54,870 - INFO - Started server process [8]
2021-06-03 15:24:54,874 - INFO - Waiting for application startup.
2021-06-03 15:24:54,875 - INFO - Application startup complete.
2021-06-03 15:24:54,879 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 15:24:56,889 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/usr/local/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "/app/main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/usr/local/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/app/api/resources/v1/account.py", line 44, in refresh_token
    user_db = token_helper.get_current_user(db_session, token)
  File "/app/securities/token.py", line 36, in get_current_user
    user = user_logic.get_user_by_user_name_and_password_join_role(db=db, id=token_data.user_id)
TypeError: get_user_by_user_name_and_password_join_role() got an unexpected keyword argument 'db'
2021-06-03 15:25:39,819 - INFO - Started server process [8]
2021-06-03 15:25:39,822 - INFO - Waiting for application startup.
2021-06-03 15:25:39,823 - INFO - Application startup complete.
2021-06-03 15:25:39,825 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 15:25:42,037 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/usr/local/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "/app/main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/usr/local/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/app/api/resources/v1/account.py", line 44, in refresh_token
    user_db = token_helper.get_current_user(db_session, token)
  File "/app/securities/token.py", line 36, in get_current_user
    user = user_logic.get_user_by_user_name_and_password_join_role(db, token_data.user_id)
TypeError: get_user_by_user_name_and_password_join_role() missing 1 required positional argument: 'password'
2021-06-03 15:25:42,992 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/usr/local/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "/app/main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/usr/local/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/app/api/resources/v1/account.py", line 44, in refresh_token
    user_db = token_helper.get_current_user(db_session, token)
  File "/app/securities/token.py", line 36, in get_current_user
    user = user_logic.get_user_by_user_name_and_password_join_role(db, token_data.user_id)
TypeError: get_user_by_user_name_and_password_join_role() missing 1 required positional argument: 'password'
2021-06-03 15:28:35,324 - INFO - Started server process [8]
2021-06-03 15:28:35,337 - INFO - Waiting for application startup.
2021-06-03 15:28:35,340 - INFO - Application startup complete.
2021-06-03 15:28:35,342 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 15:28:37,193 - INFO - select version()
2021-06-03 15:28:37,194 - INFO - [raw sql] {}
2021-06-03 15:28:37,274 - INFO - select current_schema()
2021-06-03 15:28:37,274 - INFO - [raw sql] {}
2021-06-03 15:28:37,343 - INFO - show standard_conforming_strings
2021-06-03 15:28:37,344 - INFO - [raw sql] {}
2021-06-03 15:28:37,439 - INFO - BEGIN (implicit)
2021-06-03 15:28:37,454 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".user_name = %(user_name_1)s AND "web-management"."user".email = %(email_1)s AND "web-management"."user".role_id = %(role_id_1)s 
 LIMIT %(param_1)s
2021-06-03 15:28:37,456 - INFO - [generated in 0.00154s] {'user_name_1': 1, 'email_1': 'duynguyenngoc@hotmail.com', 'role_id_1': 1, 'param_1': 1}
2021-06-03 15:28:37,569 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/usr/local/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "/app/main.py", line 50, in db_session_middleware
    response = await call_next(request)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/usr/local/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/usr/local/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/usr/local/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/app/api/resources/v1/account.py", line 44, in refresh_token
    user_db = token_helper.get_current_user(db_session, token)
  File "/app/securities/token.py", line 36, in get_current_user
    user = user_logic.get_user_by_user_name_and_email_and_role_id_join_role(db, token_data.user_id, token_data.email, token_data.role_id)
  File "/app/databases/logic/user.py", line 20, in get_user_by_user_name_and_email_and_role_id_join_role
    return db_session.query(User) \
  File "/usr/local/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2750, in first
    return self.limit(1)._iter().first()
  File "/usr/local/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2834, in _iter
    result = self.session.execute(
  File "/usr/local/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1677, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
  File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1582, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/usr/local/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 324, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1451, in _execute_clauseelement
    ret = self._execute_context(
  File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1813, in _execute_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1994, in _handle_dbapi_exception
    util.raise_(
  File "/usr/local/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1770, in _execute_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 717, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedFunction) operator does not exist: character varying = integer
LINE 3: WHERE "web-management"."user".user_name = 1 AND "web-managem...
                                                ^
HINT:  No operator matches the given name and argument type(s). You might need to add explicit type casts.

[SQL: SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".user_name = %(user_name_1)s AND "web-management"."user".email = %(email_1)s AND "web-management"."user".role_id = %(role_id_1)s 
 LIMIT %(param_1)s]
[parameters: {'user_name_1': 1, 'email_1': 'duynguyenngoc@hotmail.com', 'role_id_1': 1, 'param_1': 1}]
(Background on this error at: http://sqlalche.me/e/14/f405)
2021-06-03 15:34:42,251 - INFO - Started server process [8]
2021-06-03 15:34:42,253 - INFO - Waiting for application startup.
2021-06-03 15:34:42,254 - INFO - Application startup complete.
2021-06-03 15:34:42,255 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 15:34:43,546 - INFO - select version()
2021-06-03 15:34:43,547 - INFO - [raw sql] {}
2021-06-03 15:34:43,681 - INFO - select current_schema()
2021-06-03 15:34:43,685 - INFO - [raw sql] {}
2021-06-03 15:34:43,765 - INFO - show standard_conforming_strings
2021-06-03 15:34:43,766 - INFO - [raw sql] {}
2021-06-03 15:34:43,862 - INFO - BEGIN (implicit)
2021-06-03 15:34:43,869 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".id = %(id_1)s AND "web-management"."user".user_name = %(user_name_1)s AND "web-management"."user".email = %(email_1)s AND "web-management"."user".role_id = %(role_id_1)s 
 LIMIT %(param_1)s
2021-06-03 15:34:43,870 - INFO - [generated in 0.00084s] {'id_1': 1, 'user_name_1': 'duynguyenngoc', 'email_1': 'duynguyenngoc@hotmail.com', 'role_id_1': 1, 'param_1': 1}
2021-06-03 15:34:43,975 - INFO - ROLLBACK
2021-06-03 15:34:46,529 - INFO - BEGIN (implicit)
2021-06-03 15:34:46,531 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".id = %(id_1)s AND "web-management"."user".user_name = %(user_name_1)s AND "web-management"."user".email = %(email_1)s AND "web-management"."user".role_id = %(role_id_1)s 
 LIMIT %(param_1)s
2021-06-03 15:34:46,532 - INFO - [cached since 2.663s ago] {'id_1': 1, 'user_name_1': 'duynguyenngoc', 'email_1': 'duynguyenngoc@hotmail.com', 'role_id_1': 1, 'param_1': 1}
2021-06-03 15:34:46,578 - INFO - ROLLBACK
2021-06-03 15:34:47,450 - INFO - BEGIN (implicit)
2021-06-03 15:34:47,454 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".id = %(id_1)s AND "web-management"."user".user_name = %(user_name_1)s AND "web-management"."user".email = %(email_1)s AND "web-management"."user".role_id = %(role_id_1)s 
 LIMIT %(param_1)s
2021-06-03 15:34:47,456 - INFO - [cached since 3.586s ago] {'id_1': 1, 'user_name_1': 'duynguyenngoc', 'email_1': 'duynguyenngoc@hotmail.com', 'role_id_1': 1, 'param_1': 1}
2021-06-03 15:34:47,508 - INFO - ROLLBACK
2021-06-03 15:35:56,535 - INFO - Started server process [8]
2021-06-03 15:35:56,539 - INFO - Waiting for application startup.
2021-06-03 15:35:56,539 - INFO - Application startup complete.
2021-06-03 15:35:56,541 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 15:36:27,780 - INFO - select version()
2021-06-03 15:36:27,782 - INFO - [raw sql] {}
2021-06-03 15:36:27,877 - INFO - select current_schema()
2021-06-03 15:36:27,879 - INFO - [raw sql] {}
2021-06-03 15:36:27,970 - INFO - show standard_conforming_strings
2021-06-03 15:36:27,970 - INFO - [raw sql] {}
2021-06-03 15:36:28,101 - INFO - BEGIN (implicit)
2021-06-03 15:36:28,109 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".user_name = %(user_name_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-03 15:36:28,110 - INFO - [generated in 0.00087s] {'user_name_1': 'duynguyenngoc', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-03 15:36:28,208 - INFO - ROLLBACK
2021-06-03 15:36:33,521 - INFO - BEGIN (implicit)
2021-06-03 15:36:33,525 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".id = %(id_1)s AND "web-management"."user".user_name = %(user_name_1)s AND "web-management"."user".email = %(email_1)s AND "web-management"."user".role_id = %(role_id_1)s 
 LIMIT %(param_1)s
2021-06-03 15:36:33,526 - INFO - [generated in 0.00084s] {'id_1': 1, 'user_name_1': 'duynguyenngoc', 'email_1': 'duynguyenngoc@hotmail.com', 'role_id_1': 1, 'param_1': 1}
2021-06-03 15:36:33,568 - INFO - ROLLBACK
2021-06-03 15:40:27,080 - INFO - Started server process [8]
2021-06-03 15:40:27,082 - INFO - Waiting for application startup.
2021-06-03 15:40:27,083 - INFO - Application startup complete.
2021-06-03 15:40:27,085 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-03 15:45:29,034 - INFO - Started server process [8]
2021-06-03 15:45:29,037 - INFO - Waiting for application startup.
2021-06-03 15:45:29,038 - INFO - Application startup complete.
2021-06-03 15:45:29,039 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-04 04:47:51,863 - INFO - Started server process [9]
2021-06-04 04:47:51,864 - INFO - Waiting for application startup.
2021-06-04 04:47:51,864 - INFO - Application startup complete.
2021-06-04 04:47:51,867 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-04 04:52:40,235 - INFO - Started server process [7]
2021-06-04 04:52:40,236 - INFO - Waiting for application startup.
2021-06-04 04:52:40,236 - INFO - Application startup complete.
2021-06-04 04:52:40,237 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-04 04:57:45,820 - INFO - Started server process [8]
2021-06-04 04:57:45,821 - INFO - Waiting for application startup.
2021-06-04 04:57:45,821 - INFO - Application startup complete.
2021-06-04 04:57:45,822 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-04 04:59:21,047 - INFO - Started server process [7]
2021-06-04 04:59:21,048 - INFO - Waiting for application startup.
2021-06-04 04:59:21,048 - INFO - Application startup complete.
2021-06-04 04:59:21,049 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-04 04:59:59,277 - INFO - Started server process [7]
2021-06-04 04:59:59,277 - INFO - Waiting for application startup.
2021-06-04 04:59:59,278 - INFO - Application startup complete.
2021-06-04 04:59:59,278 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-04 05:00:55,986 - INFO - Started server process [8]
2021-06-04 05:00:55,986 - INFO - Waiting for application startup.
2021-06-04 05:00:55,986 - INFO - Application startup complete.
2021-06-04 05:00:55,987 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-04 05:01:37,663 - INFO - Started server process [8]
2021-06-04 05:01:37,663 - INFO - Waiting for application startup.
2021-06-04 05:01:37,664 - INFO - Application startup complete.
2021-06-04 05:01:37,664 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-04 05:02:47,326 - INFO - Started server process [8]
2021-06-04 05:02:47,326 - INFO - Waiting for application startup.
2021-06-04 05:02:47,327 - INFO - Application startup complete.
2021-06-04 05:02:47,327 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-04 05:05:59,378 - INFO - Started server process [7]
2021-06-04 05:05:59,379 - INFO - Waiting for application startup.
2021-06-04 05:05:59,380 - INFO - Application startup complete.
2021-06-04 05:05:59,380 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-04 05:06:33,227 - INFO - Started server process [8]
2021-06-04 05:06:33,228 - INFO - Waiting for application startup.
2021-06-04 05:06:33,230 - INFO - Application startup complete.
2021-06-04 05:06:33,231 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-04 05:12:16,128 - INFO - Started server process [8]
2021-06-04 05:12:16,130 - INFO - Waiting for application startup.
2021-06-04 05:12:16,130 - INFO - Application startup complete.
2021-06-04 05:12:16,131 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-04 05:12:34,323 - INFO - Started server process [8]
2021-06-04 05:12:34,324 - INFO - Waiting for application startup.
2021-06-04 05:12:34,326 - INFO - Application startup complete.
2021-06-04 05:12:34,327 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-04 05:24:12,281 - INFO - Started server process [7]
2021-06-04 05:24:12,284 - INFO - Waiting for application startup.
2021-06-04 05:24:12,286 - INFO - Application startup complete.
2021-06-04 05:24:12,287 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-04 12:36:57,319 - INFO - Started server process [2761]
2021-06-04 12:36:57,319 - INFO - Waiting for application startup.
2021-06-04 12:36:57,320 - INFO - Application startup complete.
2021-06-04 12:36:57,322 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-04 12:38:14,290 - INFO - Shutting down
2021-06-04 12:38:14,391 - INFO - Waiting for application shutdown.
2021-06-04 12:38:14,391 - INFO - Application shutdown complete.
2021-06-04 12:38:14,392 - INFO - Finished server process [2761]
2021-06-04 12:38:57,338 - INFO - Started server process [2882]
2021-06-04 12:38:57,338 - INFO - Waiting for application startup.
2021-06-04 12:38:57,338 - INFO - Application startup complete.
2021-06-04 12:38:57,339 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-04 12:39:11,803 - INFO - Shutting down
2021-06-04 12:39:11,904 - INFO - Waiting for application shutdown.
2021-06-04 12:39:11,905 - INFO - Application shutdown complete.
2021-06-04 12:39:11,906 - INFO - Finished server process [2882]
2021-06-04 12:39:27,277 - INFO - Started server process [2899]
2021-06-04 12:39:27,278 - INFO - Waiting for application startup.
2021-06-04 12:39:27,278 - INFO - Application startup complete.
2021-06-04 12:39:27,279 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-04 09:43:39,939 - INFO - Started server process [8]
2021-06-04 09:43:39,940 - INFO - Waiting for application startup.
2021-06-04 09:43:39,940 - INFO - Application startup complete.
2021-06-04 09:43:39,941 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-04 19:37:01,216 - INFO - Started server process [3880]
2021-06-04 19:37:01,217 - INFO - Waiting for application startup.
2021-06-04 19:37:01,217 - INFO - Application startup complete.
2021-06-04 19:37:01,217 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-04 19:37:31,549 - INFO - Shutting down
2021-06-04 19:37:31,650 - INFO - Waiting for application shutdown.
2021-06-04 19:37:31,650 - INFO - Application shutdown complete.
2021-06-04 19:37:31,651 - INFO - Finished server process [3880]
2021-06-04 19:37:32,796 - INFO - Started server process [3903]
2021-06-04 19:37:32,796 - INFO - Waiting for application startup.
2021-06-04 19:37:32,797 - INFO - Application startup complete.
2021-06-04 19:37:32,798 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-04 19:38:29,246 - INFO - Shutting down
2021-06-04 19:38:29,347 - INFO - Waiting for application shutdown.
2021-06-04 19:38:29,348 - INFO - Application shutdown complete.
2021-06-04 19:38:29,348 - INFO - Finished server process [3903]
2021-06-04 19:38:30,482 - INFO - Started server process [3921]
2021-06-04 19:38:30,483 - INFO - Waiting for application startup.
2021-06-04 19:38:30,483 - INFO - Application startup complete.
2021-06-04 19:38:30,483 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-04 19:41:15,204 - INFO - Shutting down
2021-06-04 19:41:15,305 - INFO - Waiting for application shutdown.
2021-06-04 19:41:15,305 - INFO - Application shutdown complete.
2021-06-04 19:41:15,306 - INFO - Finished server process [3921]
2021-06-04 19:41:16,868 - INFO - Started server process [4012]
2021-06-04 19:41:16,869 - INFO - Waiting for application startup.
2021-06-04 19:41:16,869 - INFO - Application startup complete.
2021-06-04 19:41:16,870 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-04 19:46:37,791 - INFO - Shutting down
2021-06-04 19:46:37,892 - INFO - Waiting for application shutdown.
2021-06-04 19:46:37,893 - INFO - Application shutdown complete.
2021-06-04 19:46:37,893 - INFO - Finished server process [4012]
2021-06-04 19:46:39,668 - INFO - Started server process [4062]
2021-06-04 19:46:39,668 - INFO - Waiting for application startup.
2021-06-04 19:46:39,669 - INFO - Application startup complete.
2021-06-04 19:46:39,669 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-04 19:50:53,936 - INFO - Shutting down
2021-06-04 19:50:54,037 - INFO - Waiting for application shutdown.
2021-06-04 19:50:54,038 - INFO - Application shutdown complete.
2021-06-04 19:50:54,038 - INFO - Finished server process [4062]
2021-06-04 19:53:32,486 - INFO - Started server process [4270]
2021-06-04 19:53:32,488 - INFO - Waiting for application startup.
2021-06-04 19:53:32,492 - INFO - Application startup complete.
2021-06-04 19:53:32,496 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-04 19:53:34,763 - INFO - select version()
2021-06-04 19:53:34,763 - INFO - [raw sql] {}
2021-06-04 19:53:34,831 - INFO - select current_schema()
2021-06-04 19:53:34,831 - INFO - [raw sql] {}
2021-06-04 19:53:34,898 - INFO - show standard_conforming_strings
2021-06-04 19:53:34,898 - INFO - [raw sql] {}
2021-06-04 19:53:34,967 - INFO - BEGIN (implicit)
2021-06-04 19:53:34,979 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 19:53:34,980 - INFO - [generated in 0.00073s] {'email_1': 'a@d', 'password_1': 'a', 'param_1': 1}
2021-06-04 19:53:35,059 - INFO - ROLLBACK
2021-06-04 19:55:08,457 - INFO - BEGIN (implicit)
2021-06-04 19:55:08,457 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 19:55:08,458 - INFO - [cached since 93.48s ago] {'email_1': 'duynguyenngoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 19:55:08,495 - INFO - ROLLBACK
2021-06-04 20:15:03,536 - INFO - BEGIN (implicit)
2021-06-04 20:15:03,537 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:15:03,537 - INFO - [cached since 1289s ago] {'email_1': 'duynguyenngoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 20:15:03,651 - INFO - ROLLBACK
2021-06-04 20:15:03,770 - INFO - BEGIN (implicit)
2021-06-04 20:15:03,771 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:15:03,771 - INFO - [cached since 1289s ago] {'email_1': 'duynguyenngoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 20:15:03,840 - INFO - ROLLBACK
2021-06-04 20:15:06,233 - INFO - BEGIN (implicit)
2021-06-04 20:15:06,233 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:15:06,234 - INFO - [cached since 1291s ago] {'email_1': 'duynguyenngoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 20:15:06,287 - INFO - ROLLBACK
2021-06-04 20:17:38,723 - INFO - BEGIN (implicit)
2021-06-04 20:17:38,724 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:17:38,724 - INFO - [cached since 1444s ago] {'email_1': 'duynguyenngoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 20:17:38,764 - INFO - ROLLBACK
2021-06-04 20:17:55,711 - INFO - BEGIN (implicit)
2021-06-04 20:17:55,712 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:17:55,712 - INFO - [cached since 1461s ago] {'email_1': 'duynguyenngoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 20:17:55,751 - INFO - ROLLBACK
2021-06-04 20:19:47,620 - INFO - BEGIN (implicit)
2021-06-04 20:19:47,621 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:19:47,621 - INFO - [cached since 1573s ago] {'email_1': 'duynguyenngoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 20:19:47,756 - INFO - ROLLBACK
2021-06-04 20:19:56,386 - INFO - BEGIN (implicit)
2021-06-04 20:19:56,387 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:19:56,387 - INFO - [cached since 1581s ago] {'email_1': 'duynguyenngoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 20:19:56,426 - INFO - ROLLBACK
2021-06-04 20:31:19,873 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.9/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "/home/pot/project/web-management/backend/app/main.py", line 53, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.9/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.9/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 25, in login
    user_db = user_logic.get_user_by_email_and_password_join_role(db_session, form_data.username, form_data.password)
  File "/home/pot/project/web-management/backend/app/databases/logic/user.py", line 20, in get_user_by_email_and_password_join_role
    return db_session.query(User) \
  File "/home/pot/.local/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2750, in first
    return self.limit(1)._iter().first()
  File "/home/pot/.local/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2834, in _iter
    result = self.session.execute(
  File "/home/pot/.local/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1676, in execute
    conn = self._connection_for_bind(bind, close_with_result=True)
  File "/home/pot/.local/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1526, in _connection_for_bind
    return self._transaction._connection_for_bind(
  File "/home/pot/.local/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 747, in _connection_for_bind
    conn = bind.connect()
  File "/home/pot/.local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3166, in connect
    return self._connection_cls(self, close_with_result=close_with_result)
  File "/home/pot/.local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 96, in __init__
    else engine.raw_connection()
  File "/home/pot/.local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3245, in raw_connection
    return self._wrap_pool_connect(self.pool.connect, _connection)
  File "/home/pot/.local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3215, in _wrap_pool_connect
    Connection._handle_dbapi_exception_noconnection(
  File "/home/pot/.local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2068, in _handle_dbapi_exception_noconnection
    util.raise_(
  File "/home/pot/.local/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/pot/.local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3212, in _wrap_pool_connect
    return fn()
  File "/home/pot/.local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 301, in connect
    return _ConnectionFairy._checkout(self)
  File "/home/pot/.local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 794, in _checkout
    result = pool._dialect.do_ping(fairy.connection)
  File "/home/pot/.local/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 684, in do_ping
    cursor.execute(self._dialect_specific_select_one)
sqlalchemy.exc.DatabaseError: (psycopg2.DatabaseError) SSL SYSCALL error: Connection timed out

(Background on this error at: http://sqlalche.me/e/14/4xp6)
2021-06-04 20:36:24,066 - INFO - BEGIN (implicit)
2021-06-04 20:36:24,066 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:36:24,066 - INFO - [cached since 2569s ago] {'email_1': 'duynguyenngoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 20:36:24,143 - INFO - ROLLBACK
2021-06-04 20:36:36,731 - INFO - BEGIN (implicit)
2021-06-04 20:36:36,732 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:36:36,732 - INFO - [cached since 2582s ago] {'email_1': 'duynguyenngoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 20:36:36,789 - INFO - ROLLBACK
2021-06-04 20:36:36,978 - INFO - BEGIN (implicit)
2021-06-04 20:36:36,979 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:36:36,979 - INFO - [cached since 2582s ago] {'email_1': 'duynguyenngoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 20:36:37,082 - INFO - ROLLBACK
2021-06-04 20:36:37,233 - INFO - BEGIN (implicit)
2021-06-04 20:36:37,235 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:36:37,235 - INFO - [cached since 2582s ago] {'email_1': 'duynguyenngoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 20:36:37,278 - INFO - ROLLBACK
2021-06-04 20:36:37,302 - INFO - BEGIN (implicit)
2021-06-04 20:36:37,303 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:36:37,303 - INFO - [cached since 2582s ago] {'email_1': 'duynguyenngoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 20:36:37,377 - INFO - ROLLBACK
2021-06-04 20:37:20,388 - INFO - BEGIN (implicit)
2021-06-04 20:37:20,388 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:37:20,389 - INFO - [cached since 2625s ago] {'email_1': 'a@a', 'password_1': 'a', 'param_1': 1}
2021-06-04 20:37:20,426 - INFO - ROLLBACK
2021-06-04 20:37:23,941 - INFO - BEGIN (implicit)
2021-06-04 20:37:23,941 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:37:23,942 - INFO - [cached since 2629s ago] {'email_1': 'a@a', 'password_1': 'a', 'param_1': 1}
2021-06-04 20:37:23,977 - INFO - ROLLBACK
2021-06-04 20:37:24,551 - INFO - BEGIN (implicit)
2021-06-04 20:37:24,552 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:37:24,552 - INFO - [cached since 2630s ago] {'email_1': 'a@a', 'password_1': 'a', 'param_1': 1}
2021-06-04 20:37:24,588 - INFO - ROLLBACK
2021-06-04 20:37:48,049 - INFO - BEGIN (implicit)
2021-06-04 20:37:48,050 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:37:48,050 - INFO - [cached since 2653s ago] {'email_1': 'duynguyengoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 20:37:48,086 - INFO - ROLLBACK
2021-06-04 20:37:49,544 - INFO - BEGIN (implicit)
2021-06-04 20:37:49,545 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:37:49,545 - INFO - [cached since 2655s ago] {'email_1': 'duynguyengoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 20:37:49,581 - INFO - ROLLBACK
2021-06-04 20:37:50,256 - INFO - BEGIN (implicit)
2021-06-04 20:37:50,256 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:37:50,257 - INFO - [cached since 2655s ago] {'email_1': 'duynguyengoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 20:37:50,292 - INFO - ROLLBACK
2021-06-04 20:38:11,758 - INFO - BEGIN (implicit)
2021-06-04 20:38:11,759 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:38:11,759 - INFO - [cached since 2677s ago] {'email_1': 'duynguyenngoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 20:38:11,804 - INFO - ROLLBACK
2021-06-04 20:38:13,837 - INFO - BEGIN (implicit)
2021-06-04 20:38:13,837 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:38:13,837 - INFO - [cached since 2679s ago] {'email_1': 'duynguyenngoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 20:38:13,874 - INFO - ROLLBACK
2021-06-04 20:38:14,170 - INFO - BEGIN (implicit)
2021-06-04 20:38:14,171 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:38:14,171 - INFO - [cached since 2679s ago] {'email_1': 'duynguyenngoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 20:38:14,207 - INFO - ROLLBACK
2021-06-04 20:38:14,463 - INFO - BEGIN (implicit)
2021-06-04 20:38:14,464 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:38:14,464 - INFO - [cached since 2679s ago] {'email_1': 'duynguyenngoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 20:38:14,500 - INFO - ROLLBACK
2021-06-04 20:38:14,667 - INFO - BEGIN (implicit)
2021-06-04 20:38:14,668 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:38:14,668 - INFO - [cached since 2680s ago] {'email_1': 'duynguyenngoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 20:38:14,706 - INFO - ROLLBACK
2021-06-04 20:38:14,877 - INFO - BEGIN (implicit)
2021-06-04 20:38:14,877 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:38:14,878 - INFO - [cached since 2680s ago] {'email_1': 'duynguyenngoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 20:38:14,923 - INFO - ROLLBACK
2021-06-04 20:40:46,501 - INFO - BEGIN (implicit)
2021-06-04 20:40:46,502 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:40:46,502 - INFO - [cached since 2832s ago] {'email_1': 'a@a', 'password_1': 'a', 'param_1': 1}
2021-06-04 20:40:46,541 - INFO - ROLLBACK
2021-06-04 20:41:32,984 - INFO - BEGIN (implicit)
2021-06-04 20:41:32,985 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:41:32,985 - INFO - [cached since 2878s ago] {'email_1': 'a@a', 'password_1': 'a', 'param_1': 1}
2021-06-04 20:41:33,052 - INFO - ROLLBACK
2021-06-04 20:41:34,557 - INFO - BEGIN (implicit)
2021-06-04 20:41:34,558 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:41:34,558 - INFO - [cached since 2880s ago] {'email_1': 'a@a', 'password_1': 'a', 'param_1': 1}
2021-06-04 20:41:34,593 - INFO - ROLLBACK
2021-06-04 20:41:35,161 - INFO - BEGIN (implicit)
2021-06-04 20:41:35,162 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:41:35,162 - INFO - [cached since 2880s ago] {'email_1': 'a@a', 'password_1': 'a', 'param_1': 1}
2021-06-04 20:41:35,206 - INFO - ROLLBACK
2021-06-04 20:41:36,050 - INFO - BEGIN (implicit)
2021-06-04 20:41:36,051 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:41:36,051 - INFO - [cached since 2881s ago] {'email_1': 'a@a', 'password_1': 'a', 'param_1': 1}
2021-06-04 20:41:36,087 - INFO - ROLLBACK
2021-06-04 20:41:37,515 - INFO - BEGIN (implicit)
2021-06-04 20:41:37,516 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:41:37,516 - INFO - [cached since 2883s ago] {'email_1': 'a@a', 'password_1': 'a', 'param_1': 1}
2021-06-04 20:41:37,550 - INFO - ROLLBACK
2021-06-04 20:42:00,378 - INFO - BEGIN (implicit)
2021-06-04 20:42:00,379 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:42:00,379 - INFO - [cached since 2905s ago] {'email_1': 'duynguyengoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 20:42:00,414 - INFO - ROLLBACK
2021-06-04 20:42:02,131 - INFO - BEGIN (implicit)
2021-06-04 20:42:02,132 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:42:02,132 - INFO - [cached since 2907s ago] {'email_1': 'duynguyengoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 20:42:02,167 - INFO - ROLLBACK
2021-06-04 20:43:44,518 - INFO - BEGIN (implicit)
2021-06-04 20:43:44,519 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:43:44,522 - INFO - [cached since 3010s ago] {'email_1': 'a@a', 'password_1': 'a', 'param_1': 1}
2021-06-04 20:43:44,558 - INFO - ROLLBACK
2021-06-04 20:43:45,750 - INFO - BEGIN (implicit)
2021-06-04 20:43:45,751 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:43:45,751 - INFO - [cached since 3011s ago] {'email_1': 'a@a', 'password_1': 'a', 'param_1': 1}
2021-06-04 20:43:45,787 - INFO - ROLLBACK
2021-06-04 20:43:46,876 - INFO - BEGIN (implicit)
2021-06-04 20:43:46,877 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:43:46,877 - INFO - [cached since 3012s ago] {'email_1': 'a@a', 'password_1': 'a', 'param_1': 1}
2021-06-04 20:43:46,920 - INFO - ROLLBACK
2021-06-04 20:44:40,425 - INFO - BEGIN (implicit)
2021-06-04 20:44:40,426 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:44:40,429 - INFO - [cached since 3065s ago] {'email_1': 'a@a', 'password_1': 'a', 'param_1': 1}
2021-06-04 20:44:40,464 - INFO - ROLLBACK
2021-06-04 20:44:41,618 - INFO - BEGIN (implicit)
2021-06-04 20:44:41,618 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:44:41,619 - INFO - [cached since 3067s ago] {'email_1': 'a@a', 'password_1': 'a', 'param_1': 1}
2021-06-04 20:44:41,659 - INFO - ROLLBACK
2021-06-04 20:44:52,871 - INFO - BEGIN (implicit)
2021-06-04 20:44:52,872 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:44:52,872 - INFO - [cached since 3078s ago] {'email_1': 'duynguyenngoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 20:44:52,909 - INFO - ROLLBACK
2021-06-04 20:44:56,380 - INFO - BEGIN (implicit)
2021-06-04 20:44:56,381 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:44:56,381 - INFO - [cached since 3081s ago] {'email_1': 'duynguyenngoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 20:44:56,433 - INFO - ROLLBACK
2021-06-04 20:44:57,253 - INFO - BEGIN (implicit)
2021-06-04 20:44:57,254 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:44:57,254 - INFO - [cached since 3082s ago] {'email_1': 'duynguyenngoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 20:44:57,333 - INFO - ROLLBACK
2021-06-04 20:45:35,308 - INFO - BEGIN (implicit)
2021-06-04 20:45:35,309 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:45:35,313 - INFO - [cached since 3120s ago] {'email_1': 'a@a', 'password_1': 'a', 'param_1': 1}
2021-06-04 20:45:35,351 - INFO - ROLLBACK
2021-06-04 20:45:37,748 - INFO - BEGIN (implicit)
2021-06-04 20:45:37,748 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:45:37,749 - INFO - [cached since 3123s ago] {'email_1': 'a@a', 'password_1': 'a', 'param_1': 1}
2021-06-04 20:45:37,785 - INFO - ROLLBACK
2021-06-04 20:45:50,865 - INFO - BEGIN (implicit)
2021-06-04 20:45:50,866 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:45:50,866 - INFO - [cached since 3136s ago] {'email_1': 'duynguyenngoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 20:45:50,904 - INFO - ROLLBACK
2021-06-04 20:46:25,412 - INFO - BEGIN (implicit)
2021-06-04 20:46:25,413 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 20:46:25,413 - INFO - [cached since 3170s ago] {'email_1': 'duynguyenngoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 20:46:25,456 - INFO - ROLLBACK
2021-06-04 20:52:34,753 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/home/pot/.local/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/home/pot/.local/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 81, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.9/site-packages/uvicorn/middleware/debug.py", line 78, in __call__
    await self.app(scope, receive, inner_send)
  File "/home/pot/.local/lib/python3.9/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/home/pot/.local/lib/python3.9/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/pot/.local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/home/pot/.local/lib/python3.9/site-packages/starlette/middleware/base.py", line 25, in __call__
    response = await self.dispatch_func(request, self.call_next)
  File "/home/pot/project/web-management/backend/app/main.py", line 53, in db_session_middleware
    response = await call_next(request)
  File "/home/pot/.local/lib/python3.9/site-packages/starlette/middleware/base.py", line 45, in call_next
    task.result()
  File "/home/pot/.local/lib/python3.9/site-packages/starlette/middleware/base.py", line 38, in coro
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 86, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/pot/.local/lib/python3.9/site-packages/starlette/middleware/cors.py", line 142, in simple_response
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.9/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/home/pot/.local/lib/python3.9/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/home/pot/.local/lib/python3.9/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/home/pot/.local/lib/python3.9/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/home/pot/.local/lib/python3.9/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/home/pot/.local/lib/python3.9/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/home/pot/.local/lib/python3.9/site-packages/fastapi/routing.py", line 150, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/pot/.local/lib/python3.9/site-packages/starlette/concurrency.py", line 34, in run_in_threadpool
    return await loop.run_in_executor(None, func, *args)
  File "/usr/local/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/pot/project/web-management/backend/app/api/resources/v1/account.py", line 25, in login
    user_db = user_logic.get_user_by_email_and_password_join_role(db_session, form_data.username, form_data.password)
  File "/home/pot/project/web-management/backend/app/databases/logic/user.py", line 20, in get_user_by_email_and_password_join_role
    return db_session.query(User) \
  File "/home/pot/.local/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2750, in first
    return self.limit(1)._iter().first()
  File "/home/pot/.local/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2834, in _iter
    result = self.session.execute(
  File "/home/pot/.local/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1676, in execute
    conn = self._connection_for_bind(bind, close_with_result=True)
  File "/home/pot/.local/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1526, in _connection_for_bind
    return self._transaction._connection_for_bind(
  File "/home/pot/.local/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 747, in _connection_for_bind
    conn = bind.connect()
  File "/home/pot/.local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3166, in connect
    return self._connection_cls(self, close_with_result=close_with_result)
  File "/home/pot/.local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 96, in __init__
    else engine.raw_connection()
  File "/home/pot/.local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3245, in raw_connection
    return self._wrap_pool_connect(self.pool.connect, _connection)
  File "/home/pot/.local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3215, in _wrap_pool_connect
    Connection._handle_dbapi_exception_noconnection(
  File "/home/pot/.local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2068, in _handle_dbapi_exception_noconnection
    util.raise_(
  File "/home/pot/.local/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/home/pot/.local/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 3212, in _wrap_pool_connect
    return fn()
  File "/home/pot/.local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 301, in connect
    return _ConnectionFairy._checkout(self)
  File "/home/pot/.local/lib/python3.9/site-packages/sqlalchemy/pool/base.py", line 794, in _checkout
    result = pool._dialect.do_ping(fairy.connection)
  File "/home/pot/.local/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 684, in do_ping
    cursor.execute(self._dialect_specific_select_one)
sqlalchemy.exc.DatabaseError: (psycopg2.DatabaseError) SSL SYSCALL error: Connection timed out

(Background on this error at: http://sqlalche.me/e/14/4xp6)
2021-06-04 21:12:08,956 - INFO - Shutting down
2021-06-04 21:12:09,057 - INFO - Waiting for connections to close. (CTRL+C to force quit)
2021-06-04 21:12:09,159 - INFO - Finished server process [4270]
2021-06-04 21:12:17,135 - INFO - Started server process [5132]
2021-06-04 21:12:17,136 - INFO - Waiting for application startup.
2021-06-04 21:12:17,136 - INFO - Application startup complete.
2021-06-04 21:12:17,137 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-04 21:12:30,020 - INFO - select version()
2021-06-04 21:12:30,020 - INFO - [raw sql] {}
2021-06-04 21:12:30,081 - INFO - select current_schema()
2021-06-04 21:12:30,082 - INFO - [raw sql] {}
2021-06-04 21:12:30,138 - INFO - show standard_conforming_strings
2021-06-04 21:12:30,138 - INFO - [raw sql] {}
2021-06-04 21:12:30,195 - INFO - BEGIN (implicit)
2021-06-04 21:12:30,201 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 21:12:30,201 - INFO - [generated in 0.00036s] {'email_1': 'duynguyenngoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 21:12:30,277 - INFO - ROLLBACK
2021-06-04 21:12:53,485 - INFO - BEGIN (implicit)
2021-06-04 21:12:53,486 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 21:12:53,486 - INFO - [cached since 23.29s ago] {'email_1': 'duynguyenngoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 21:12:53,518 - INFO - ROLLBACK
2021-06-04 21:17:06,366 - INFO - BEGIN (implicit)
2021-06-04 21:17:06,367 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 21:17:06,367 - INFO - [cached since 276.2s ago] {'email_1': 'dad@', 'password_1': '@', 'param_1': 1}
2021-06-04 21:17:06,439 - INFO - BEGIN (implicit)
2021-06-04 21:17:06,440 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 21:17:06,440 - INFO - [cached since 276.2s ago] {'email_1': 'dad@', 'password_1': '@', 'param_1': 1}
2021-06-04 21:17:06,450 - INFO - ROLLBACK
2021-06-04 21:17:06,481 - INFO - ROLLBACK
2021-06-04 21:17:06,915 - INFO - BEGIN (implicit)
2021-06-04 21:17:06,915 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 21:17:06,916 - INFO - [cached since 276.7s ago] {'email_1': 'dad@w', 'password_1': '@', 'param_1': 1}
2021-06-04 21:17:06,968 - INFO - ROLLBACK
2021-06-04 21:17:07,134 - INFO - BEGIN (implicit)
2021-06-04 21:17:07,134 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 21:17:07,135 - INFO - [cached since 276.9s ago] {'email_1': 'dad@', 'password_1': '@', 'param_1': 1}
2021-06-04 21:17:07,201 - INFO - ROLLBACK
2021-06-04 21:17:07,299 - INFO - BEGIN (implicit)
2021-06-04 21:17:07,300 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 21:17:07,300 - INFO - [cached since 277.1s ago] {'email_1': 'dad@', 'password_1': '@', 'param_1': 1}
2021-06-04 21:17:07,361 - INFO - ROLLBACK
2021-06-04 21:17:11,407 - INFO - BEGIN (implicit)
2021-06-04 21:17:11,407 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 21:17:11,408 - INFO - [cached since 281.2s ago] {'email_1': 'dad@w', 'password_1': '@', 'param_1': 1}
2021-06-04 21:17:11,438 - INFO - ROLLBACK
2021-06-04 21:17:11,831 - INFO - BEGIN (implicit)
2021-06-04 21:17:11,832 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 21:17:11,832 - INFO - [cached since 281.6s ago] {'email_1': 'dad@', 'password_1': '@', 'param_1': 1}
2021-06-04 21:17:11,904 - INFO - ROLLBACK
2021-06-04 21:17:12,003 - INFO - BEGIN (implicit)
2021-06-04 21:17:12,004 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 21:17:12,004 - INFO - [cached since 281.8s ago] {'email_1': 'dad@', 'password_1': '@', 'param_1': 1}
2021-06-04 21:17:12,075 - INFO - ROLLBACK
2021-06-04 21:29:23,429 - INFO - Shutting down
2021-06-04 21:29:23,530 - INFO - Waiting for application shutdown.
2021-06-04 21:29:23,530 - INFO - Application shutdown complete.
2021-06-04 21:29:23,531 - INFO - Finished server process [5132]
2021-06-04 21:29:34,664 - INFO - Started server process [5344]
2021-06-04 21:29:34,665 - INFO - Waiting for application startup.
2021-06-04 21:29:34,665 - INFO - Application startup complete.
2021-06-04 21:29:34,666 - INFO - Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
2021-06-04 21:33:54,386 - INFO - select version()
2021-06-04 21:33:54,386 - INFO - [raw sql] {}
2021-06-04 21:33:54,457 - INFO - select current_schema()
2021-06-04 21:33:54,457 - INFO - [raw sql] {}
2021-06-04 21:33:54,526 - INFO - show standard_conforming_strings
2021-06-04 21:33:54,527 - INFO - [raw sql] {}
2021-06-04 21:33:54,597 - INFO - BEGIN (implicit)
2021-06-04 21:33:54,603 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 21:33:54,603 - INFO - [generated in 0.00036s] {'email_1': 'duynguyenngoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 21:33:54,674 - INFO - ROLLBACK
2021-06-04 21:35:34,956 - INFO - BEGIN (implicit)
2021-06-04 21:35:34,957 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 21:35:34,957 - INFO - [cached since 100.4s ago] {'email_1': 'duynguyenngoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 21:35:34,994 - INFO - ROLLBACK
2021-06-04 21:39:32,491 - INFO - BEGIN (implicit)
2021-06-04 21:39:32,492 - INFO - SELECT "web-management"."user".id AS "web-management_user_id", "web-management"."user".user_name AS "web-management_user_user_name", "web-management"."user".first_nane AS "web-management_user_first_nane", "web-management"."user".last_name AS "web-management_user_last_name", "web-management"."user".full_nane AS "web-management_user_full_nane", "web-management"."user".email AS "web-management_user_email", "web-management"."user".phone AS "web-management_user_phone", "web-management"."user".password AS "web-management_user_password", "web-management"."user".role_id AS "web-management_user_role_id", "web-management"."user".create_date AS "web-management_user_create_date", "web-management"."user".update_date AS "web-management_user_update_date", role_1.id AS role_1_id, role_1.code AS role_1_code, role_1.name AS role_1_name, role_1.create_date AS role_1_create_date, role_1.update_date AS role_1_update_date 
FROM "web-management"."user" LEFT OUTER JOIN "web-management".role AS role_1 ON role_1.id = "web-management"."user".role_id 
WHERE "web-management"."user".email = %(email_1)s AND "web-management"."user".password = %(password_1)s 
 LIMIT %(param_1)s
2021-06-04 21:39:32,493 - INFO - [cached since 337.9s ago] {'email_1': 'duynguyenngoc@hotmail.com', 'password_1': '1q2w3e4r', 'param_1': 1}
2021-06-04 21:39:32,532 - INFO - ROLLBACK
